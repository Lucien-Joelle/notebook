## C#æ˜¯ä»€ä¹ˆ

ç¼–ç¨‹åˆ†ç±»ï¼šåŠ¨æ€å¦‚pythonï¼Œé™æ€å¦‚Cç­‰

![image-20250715101133244](../../assets/å›¾ç‰‡/image-20250715101133244.png)



## .net

.NET æ˜¯å¾®è½¯å¼€å‘çš„è·¨å¹³å°ã€å¼€æºçš„å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„åº“å’Œå·¥å…·ï¼Œç”¨äºå¼€å‘å„ç§ç±»å‹çš„åº”ç”¨ç¨‹åºã€‚



## å‘½åç©ºé—´

å‘½åç©ºé—´ï¼šç±»ä¼¼Cä¸­çš„åº“ã€‚è¦å¼•ç”¨è¿™ä¸ªåº“ï¼Œå°±è¦ç”¨`using`

å‘½åç©ºé—´çš„è®¾è®¡ç›®çš„æ˜¯æä¾›ä¸€ç§è®©ä¸€ç»„åç§°ä¸å…¶ä»–åç§°åˆ†éš”å¼€çš„æ–¹å¼ã€‚åœ¨ä¸€ä¸ªå‘½åç©ºé—´ä¸­å£°æ˜çš„ç±»çš„åç§°ä¸å¦ä¸€ä¸ªå‘½åç©ºé—´ä¸­å£°æ˜çš„ç›¸åŒçš„ç±»çš„åç§°ä¸å†²çªã€‚

å‘½åç©ºé—´çš„å®šä¹‰æ˜¯ä»¥å…³é”®å­— namespace å¼€å§‹ï¼Œåè·Ÿå‘½åç©ºé—´çš„åç§°ï¼Œ

å¦‚ä¸‹æ‰€ç¤ºï¼š

```c#
namespace namespace_name
{
// ä»£ç å£°æ˜
}
```

```c#
using System;
using SomeNameSpace;
using SomeNameSpace.Nested;

namespace SomeNameSpace
{
    public class MyClass 
    {
        static void Main() 
        {
            Console.WriteLine("In SomeNameSpace");
            Nested.NestedNameSpaceClass.SayHello();
        }
    }

    // å†…åµŒå‘½åç©ºé—´
    namespace Nested   
    {
        public class NestedNameSpaceClass 
        {
            public static void SayHello() 
            {
                Console.WriteLine("In Nested");
            }
        }
    }
}
```

è¿™ä¸ªå°±æ„Ÿè§‰åƒå¤´æ–‡ä»¶ï¼Œå¿…é¡»å£°æ˜ä»–ï¼Œä½ åœ¨åˆ«çš„åœ°æ–¹æ‰å¯ä»¥ä½¿ç”¨ï¼Œä¸ç„¶å°±ä¼šæŠ¥é”™ã€‚

å¦‚æœä¸ç”¨`using System`ï¼Œå°±è¦ç”¨`System.Console.log`è¿›è¡Œä¸€ä¸ªè¾“å‡ºã€‚ï¼ˆä¸è¿‡å¥½åƒå¯ä»¥ç”¨ï¼Œä¸è¿‡è¿™ä¸ªæ˜¯å¸¸ç”¨çš„`System`ï¼Œè¿™é‡Œåªæ˜¯ä¸¾ä¾‹ï¼‰







## æ¥å—æ¥è‡ªç”¨æˆ·çš„å€¼

**System** å‘½åç©ºé—´ä¸­çš„ **Console** ç±»æä¾›äº†ä¸€ä¸ªå‡½æ•° **ReadLine()**ï¼Œç”¨äºæ¥æ”¶æ¥è‡ªç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶æŠŠå®ƒå­˜å‚¨åˆ°ä¸€ä¸ªå˜é‡ä¸­ã€‚

ä¾‹å¦‚ï¼š

```c#
int num;
num = Convert.ToInt32(Console.ReadLine());
```

å‡½æ•° **Convert.ToInt32()** æŠŠç”¨æˆ·è¾“å…¥çš„æ•°æ®è½¬æ¢ä¸º int æ•°æ®ç±»å‹ï¼Œå› ä¸º **Console.ReadLine()** åªæ¥å—å­—ç¬¦ä¸²æ ¼å¼çš„æ•°æ®ã€‚

```c#
using System;

namespace CalculatorApplication
{
   class NumberManipulator
   {
      public int FindMax(int num1, int num2)
      {
         /* å±€éƒ¨å˜é‡å£°æ˜ */
         int result;

         if (num1 > num2)
            result = num1;
         else
            result = num2;

         return result;
      }
      static void Main(string[] args)
      {
         /* å±€éƒ¨å˜é‡å®šä¹‰ */
         int a = 100;
         int b = 200;
         int ret;
         NumberManipulator n = new NumberManipulator();

         //è°ƒç”¨ FindMax æ–¹æ³•
         ret = n.FindMax(a, b);
         Console.WriteLine("æœ€å¤§å€¼æ˜¯ï¼š {0}", ret );
         Console.ReadLine();
      }
   }
}
```

æ³¨æ„å®ä¾‹åŒ–ä¸€ä¸ªç±»



## æ•°ç»„

æ•°ç»„æ˜¯ä¸€ä¸ªå­˜å‚¨ç›¸åŒç±»å‹å…ƒç´ çš„å›ºå®šå¤§å°çš„é¡ºåºé›†åˆã€‚æ•°ç»„æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„é›†åˆï¼Œé€šå¸¸è®¤ä¸ºæ•°ç»„æ˜¯ä¸€ä¸ªåŒä¸€ç±»å‹å˜é‡çš„é›†åˆã€‚

å£°æ˜æ•°ç»„å˜é‡å¹¶ä¸æ˜¯å£°æ˜ number0ã€number1ã€...ã€number99 ä¸€ä¸ªä¸ªå•ç‹¬çš„å˜é‡ï¼Œè€Œæ˜¯å£°æ˜ä¸€ä¸ªå°±åƒ numbers è¿™æ ·çš„å˜é‡ï¼Œç„¶åä½¿ç”¨ numbers[0]ã€numbers[1]ã€...ã€numbers[99] æ¥è¡¨ç¤ºä¸€ä¸ªä¸ªå•ç‹¬çš„å˜é‡ã€‚æ•°ç»„ä¸­æŸä¸ªæŒ‡å®šçš„å…ƒç´ æ˜¯é€šè¿‡ç´¢å¼•æ¥è®¿é—®çš„ã€‚

æ‰€æœ‰çš„æ•°ç»„éƒ½æ˜¯ç”±è¿ç»­çš„å†…å­˜ä½ç½®ç»„æˆçš„ã€‚æœ€ä½çš„åœ°å€å¯¹åº”ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæœ€é«˜çš„åœ°å€å¯¹åº”æœ€åä¸€ä¸ªå…ƒç´ ã€‚

![C# ä¸­çš„æ•°ç»„](https://www.runoob.com/wp-content/uploads/2014/04/arrays.jpg)

### 1 å£°æ˜æ•°ç»„

åœ¨ C# ä¸­å£°æ˜ä¸€ä¸ªæ•°ç»„ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ï¼š

```c#
datatype[] arrayName;
```

å…¶ä¸­ï¼Œ

- *datatype* ç”¨äºæŒ‡å®šè¢«å­˜å‚¨åœ¨æ•°ç»„ä¸­çš„å…ƒç´ çš„ç±»å‹ã€‚
- *[ ]* æŒ‡å®šæ•°ç»„çš„ç§©ï¼ˆç»´åº¦ï¼‰ã€‚ç§©æŒ‡å®šæ•°ç»„çš„å¤§å°ã€‚
- *arrayName* æŒ‡å®šæ•°ç»„çš„åç§°ã€‚

ä¾‹å¦‚ï¼š

```c#
double[] balance;
```

### 2 åˆå§‹åŒ–æ•°ç»„

å£°æ˜ä¸€ä¸ªæ•°ç»„ä¸ä¼šåœ¨å†…å­˜ä¸­åˆå§‹åŒ–æ•°ç»„ã€‚å½“åˆå§‹åŒ–æ•°ç»„å˜é‡æ—¶ï¼Œæ‚¨å¯ä»¥èµ‹å€¼ç»™æ•°ç»„ã€‚

æ•°ç»„æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥æ‚¨éœ€è¦ä½¿ç”¨ **new** å…³é”®å­—æ¥åˆ›å»ºæ•°ç»„çš„å®ä¾‹ã€‚

ä¾‹å¦‚ï¼š

```c#
double[] balance = new double[10];
```

### 3 èµ‹å€¼ç»™æ•°ç»„

æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ç´¢å¼•å·èµ‹å€¼ç»™ä¸€ä¸ªå•ç‹¬çš„æ•°ç»„å…ƒç´ ï¼Œæ¯”å¦‚ï¼š

```c#
double[] balance = new double[10];
balance[0] = 4500.0;
```

æ‚¨å¯ä»¥åœ¨å£°æ˜æ•°ç»„çš„åŒæ—¶ç»™æ•°ç»„èµ‹å€¼ï¼Œæ¯”å¦‚ï¼š

```c#
double[] balance = { 2340.0, 4523.69, 3421.0};
```

æ‚¨ä¹Ÿå¯ä»¥åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ•°ç»„ï¼Œæ¯”å¦‚ï¼š

```c#
int [] marks = new int[5]  { 99,  98, 92, 97, 95};
```

åœ¨ä¸Šè¿°æƒ…å†µä¸‹ï¼Œä½ ä¹Ÿå¯ä»¥çœç•¥æ•°ç»„çš„å¤§å°ï¼Œæ¯”å¦‚ï¼š

```c#
int [] marks = new int[]  { 99,  98, 92, 97, 95};
```

æ‚¨ä¹Ÿå¯ä»¥èµ‹å€¼ä¸€ä¸ªæ•°ç»„å˜é‡åˆ°å¦ä¸€ä¸ªç›®æ ‡æ•°ç»„å˜é‡ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›®æ ‡å’Œæºä¼šæŒ‡å‘ç›¸åŒçš„å†…å­˜ä½ç½®ï¼š

```c#
int [] marks = new int[]  { 99,  98, 92, 97, 95};
int[] score = marks;
```

å½“æ‚¨åˆ›å»ºä¸€ä¸ªæ•°ç»„æ—¶ï¼ŒC# ç¼–è¯‘å™¨ä¼šæ ¹æ®æ•°ç»„ç±»å‹éšå¼åˆå§‹åŒ–æ¯ä¸ªæ•°ç»„å…ƒç´ ä¸ºä¸€ä¸ªé»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼Œint æ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«åˆå§‹åŒ–ä¸º 0ã€‚

### 4 è®¿é—®æ•°ç»„å…ƒç´ 

å…ƒç´ æ˜¯é€šè¿‡å¸¦ç´¢å¼•çš„æ•°ç»„åç§°æ¥è®¿é—®çš„ã€‚è¿™æ˜¯é€šè¿‡æŠŠå…ƒç´ çš„ç´¢å¼•æ”¾ç½®åœ¨æ•°ç»„åç§°åçš„æ–¹æ‹¬å·ä¸­æ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼š

```c#
double salary = balance[9];
```

ä¸‹é¢æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œä½¿ç”¨ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªæ¦‚å¿µï¼Œå³å£°æ˜ã€èµ‹å€¼ã€è®¿é—®æ•°ç»„ï¼š

```c#
using System;
namespace ArrayApplication
{
   class MyArray
   {
      static void Main(string[] args)
      {
         int []  n = new int[10]; /* n æ˜¯ä¸€ä¸ªå¸¦æœ‰ 10 ä¸ªæ•´æ•°çš„æ•°ç»„ */
         int i,j;


         /* åˆå§‹åŒ–æ•°ç»„ n ä¸­çš„å…ƒç´  */         
         for ( i = 0; i < 10; i++ )
         {
            n[ i ] = i + 100;
         }

         /* è¾“å‡ºæ¯ä¸ªæ•°ç»„å…ƒç´ çš„å€¼ */
         for (j = 0; j < 10; j++ )
         {
            Console.WriteLine("Element[{0}] = {1}", j, n[j]);
         }
         Console.ReadKey();
      }
   }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
Element[0] = 100
Element[1] = 101
Element[2] = 102
Element[3] = 103
Element[4] = 104
Element[5] = 105
Element[6] = 106
Element[7] = 107
Element[8] = 108
Element[9] = 109
```

### 5 ä½¿ç”¨ *foreach* å¾ªç¯

åœ¨å‰é¢çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ª for å¾ªç¯æ¥è®¿é—®æ¯ä¸ªæ•°ç»„å…ƒç´ ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ª **foreach** è¯­å¥æ¥éå†æ•°ç»„ã€‚

ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬ä½¿ç”¨ foreach æ¥éå†ä¸€ä¸ªæ•°ç»„ï¼š

```c#
using System;

namespace ArrayApplication
{
   class MyArray
   {
      static void Main(string[] args)
      {
         int []  n = new int[10]; /* n æ˜¯ä¸€ä¸ªå¸¦æœ‰ 10 ä¸ªæ•´æ•°çš„æ•°ç»„ */


         /* åˆå§‹åŒ–æ•°ç»„ n ä¸­çš„å…ƒç´  */         
         for ( int i = 0; i < 10; i++ )
         {
            n[i] = i + 100;
         }

         /* è¾“å‡ºæ¯ä¸ªæ•°ç»„å…ƒç´ çš„å€¼ */
         foreach (int j in n )
         {
            int i = j-100;
            Console.WriteLine("Element[{0}] = {1}", i, j);
         }
         Console.ReadKey();
      }
   }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
#Element[0] = 100
Element[1] = 101
Element[2] = 102
Element[3] = 103
Element[4] = 104
Element[5] = 105
Element[6] = 106
Element[7] = 107
Element[8] = 108
Element[9] = 109
```



## å­—ç¬¦ä¸²

åœ¨ C# ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å­—ç¬¦æ•°ç»„æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯ï¼Œæ›´å¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨ **string** å…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ã€‚string å…³é”®å­—æ˜¯ **System.String** ç±»çš„åˆ«åã€‚

### 1 åˆ›å»º String å¯¹è±¡

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€æ¥åˆ›å»º string å¯¹è±¡ï¼š

- é€šè¿‡ç»™ String å˜é‡æŒ‡å®šä¸€ä¸ªå­—ç¬¦ä¸²
- é€šè¿‡ä½¿ç”¨ String ç±»æ„é€ å‡½æ•°
- é€šè¿‡ä½¿ç”¨å­—ç¬¦ä¸²ä¸²è”è¿ç®—ç¬¦ï¼ˆ + ï¼‰
- é€šè¿‡æ£€ç´¢å±æ€§æˆ–è°ƒç”¨ä¸€ä¸ªè¿”å›å­—ç¬¦ä¸²çš„æ–¹æ³•
- é€šè¿‡æ ¼å¼åŒ–æ–¹æ³•æ¥è½¬æ¢ä¸€ä¸ªå€¼æˆ–å¯¹è±¡ä¸ºå®ƒçš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼

ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†è¿™ç‚¹ï¼š

```c#
using System;

namespace StringApplication
{
    class Program
    {
        static void Main(string[] args)
        {
           //å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²è¿æ¥
            string fname, lname;
            fname = "Rowan";
            lname = "Atkinson";

            string fullname = fname + lname;
            Console.WriteLine("Full Name: {0}", fullname);

            //é€šè¿‡ä½¿ç”¨ string æ„é€ å‡½æ•°
            char[] letters = { 'H', 'e', 'l', 'l','o' };
            string greetings = new string(letters);
            Console.WriteLine("Greetings: {0}", greetings);

            //æ–¹æ³•è¿”å›å­—ç¬¦ä¸²
            string[] sarray = { "Hello", "From", "Tutorials", "Point" };
            string message = String.Join(" ", sarray);
            Console.WriteLine("Message: {0}", message);

            //ç”¨äºè½¬åŒ–å€¼çš„æ ¼å¼åŒ–æ–¹æ³•
            DateTime waiting = new DateTime(2012, 10, 10, 17, 58, 1);
            string chat = String.Format("Message sent at {0:t} on {0:D}", 
            waiting);
            Console.WriteLine("Message: {0}", chat);
            Console.ReadKey() ;
        }
    }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
Full Name: RowanAtkinson
Greetings: Hello
Message: Hello From Tutorials Point
Message: Message sent at 17:58 on Wednesday, 10 October 2012
```

### 2 String ç±»çš„æ–¹æ³•

String ç±»æœ‰è®¸å¤šæ–¹æ³•ç”¨äº string å¯¹è±¡çš„æ“ä½œã€‚ä¸‹é¢çš„è¡¨æ ¼æä¾›äº†ä¸€äº›æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼š

| åºå· | æ–¹æ³•åç§° & æè¿°                                              |
| :--- | :----------------------------------------------------------- |
| 1    | **public static int Compare( string strA, string strB )** æ¯”è¾ƒä¸¤ä¸ªæŒ‡å®šçš„ string å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºå®ƒä»¬åœ¨æ’åˆ—é¡ºåºä¸­ç›¸å¯¹ä½ç½®çš„æ•´æ•°ã€‚è¯¥æ–¹æ³•åŒºåˆ†å¤§å°å†™ã€‚ |
| 2    | **public static int Compare( string strA, string strB, bool ignoreCase )** æ¯”è¾ƒä¸¤ä¸ªæŒ‡å®šçš„ string å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºå®ƒä»¬åœ¨æ’åˆ—é¡ºåºä¸­ç›¸å¯¹ä½ç½®çš„æ•´æ•°ã€‚ä½†æ˜¯ï¼Œå¦‚æœå¸ƒå°”å‚æ•°ä¸ºçœŸæ—¶ï¼Œè¯¥æ–¹æ³•ä¸åŒºåˆ†å¤§å°å†™ã€‚ |
| 3    | **public static string Concat( string str0, string str1 )** è¿æ¥ä¸¤ä¸ª string å¯¹è±¡ã€‚ |
| 4    | **public static string Concat( string str0, string str1, string str2 )** è¿æ¥ä¸‰ä¸ª string å¯¹è±¡ã€‚ |
| 5    | **public static string Concat( string str0, string str1, string str2, string str3 )** è¿æ¥å››ä¸ª string å¯¹è±¡ã€‚ |
| 6    | **public bool Contains( string value )** è¿”å›ä¸€ä¸ªè¡¨ç¤ºæŒ‡å®š string å¯¹è±¡æ˜¯å¦å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„å€¼ã€‚ |
| 7    | **public static string Copy( string str )** åˆ›å»ºä¸€ä¸ªä¸æŒ‡å®šå­—ç¬¦ä¸²å…·æœ‰ç›¸åŒå€¼çš„æ–°çš„ String å¯¹è±¡ã€‚ |
| 8    | **public void CopyTo( int sourceIndex, char[] destination, int destinationIndex, int count )** ä» string å¯¹è±¡çš„æŒ‡å®šä½ç½®å¼€å§‹å¤åˆ¶æŒ‡å®šæ•°é‡çš„å­—ç¬¦åˆ° Unicode å­—ç¬¦æ•°ç»„ä¸­çš„æŒ‡å®šä½ç½®ã€‚ |
| 9    | **public bool EndsWith( string value )** åˆ¤æ–­ string å¯¹è±¡çš„ç»“å°¾æ˜¯å¦åŒ¹é…æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚ |
| 10   | **public bool Equals( string value )** åˆ¤æ–­å½“å‰çš„ string å¯¹è±¡æ˜¯å¦ä¸æŒ‡å®šçš„ string å¯¹è±¡å…·æœ‰ç›¸åŒçš„å€¼ã€‚ |
| 11   | **public static bool Equals( string a, string b )** åˆ¤æ–­ä¸¤ä¸ªæŒ‡å®šçš„ string å¯¹è±¡æ˜¯å¦å…·æœ‰ç›¸åŒçš„å€¼ã€‚ |
| 12   | **public static string Format( string format, Object arg0 )** æŠŠæŒ‡å®šå­—ç¬¦ä¸²ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªæ ¼å¼é¡¹æ›¿æ¢ä¸ºæŒ‡å®šå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ |
| 13   | **public int IndexOf( char value )** è¿”å›æŒ‡å®š Unicode å­—ç¬¦åœ¨å½“å‰å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 14   | **public int IndexOf( string value )** è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨è¯¥å®ä¾‹ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 15   | **public int IndexOf( char value, int startIndex )** è¿”å›æŒ‡å®š Unicode å­—ç¬¦ä»è¯¥å­—ç¬¦ä¸²ä¸­æŒ‡å®šå­—ç¬¦ä½ç½®å¼€å§‹æœç´¢ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 16   | **public int IndexOf( string value, int startIndex )** è¿”å›æŒ‡å®šå­—ç¬¦ä¸²ä»è¯¥å®ä¾‹ä¸­æŒ‡å®šå­—ç¬¦ä½ç½®å¼€å§‹æœç´¢ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 17   | **public int IndexOfAny( char[] anyOf )** è¿”å›æŸä¸€ä¸ªæŒ‡å®šçš„ Unicode å­—ç¬¦æ•°ç»„ä¸­ä»»æ„å­—ç¬¦åœ¨è¯¥å®ä¾‹ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 18   | **public int IndexOfAny( char[] anyOf, int startIndex )** è¿”å›æŸä¸€ä¸ªæŒ‡å®šçš„ Unicode å­—ç¬¦æ•°ç»„ä¸­ä»»æ„å­—ç¬¦ä»è¯¥å®ä¾‹ä¸­æŒ‡å®šå­—ç¬¦ä½ç½®å¼€å§‹æœç´¢ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 19   | **public string Insert( int startIndex, string value )** è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ï¼ŒæŒ‡å®šçš„å­—ç¬¦ä¸²è¢«æ’å…¥åœ¨å½“å‰ string å¯¹è±¡çš„æŒ‡å®šç´¢å¼•ä½ç½®ã€‚ |
| 20   | **public static bool IsNullOrEmpty( string value )** æŒ‡ç¤ºæŒ‡å®šçš„å­—ç¬¦ä¸²æ˜¯å¦ä¸º null æˆ–è€…æ˜¯å¦ä¸ºä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²ã€‚ |
| 21   | **public static string Join( string separator, string[] value )** è¿æ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”æ¯ä¸ªå…ƒç´ ã€‚ |
| 22   | **public static string Join( string separator, string[] value, int startIndex, int count )** è¿æ¥ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æŒ‡å®šä½ç½®å¼€å§‹çš„æŒ‡å®šå…ƒç´ ï¼Œä½¿ç”¨æŒ‡å®šçš„åˆ†éš”ç¬¦åˆ†éš”æ¯ä¸ªå…ƒç´ ã€‚ |
| 23   | **public int LastIndexOf( char value )** è¿”å›æŒ‡å®š Unicode å­—ç¬¦åœ¨å½“å‰ string å¯¹è±¡ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 24   | **public int LastIndexOf( string value )** è¿”å›æŒ‡å®šå­—ç¬¦ä¸²åœ¨å½“å‰ string å¯¹è±¡ä¸­æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®ï¼Œç´¢å¼•ä» 0 å¼€å§‹ã€‚ |
| 25   | **public string Remove( int startIndex )** ç§»é™¤å½“å‰å®ä¾‹ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œä»æŒ‡å®šä½ç½®å¼€å§‹ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªä½ç½®ä¸ºæ­¢ï¼Œå¹¶è¿”å›å­—ç¬¦ä¸²ã€‚ |
| 26   | **public string Remove( int startIndex, int count )** ä»å½“å‰å­—ç¬¦ä¸²çš„æŒ‡å®šä½ç½®å¼€å§‹ç§»é™¤æŒ‡å®šæ•°é‡çš„å­—ç¬¦ï¼Œå¹¶è¿”å›å­—ç¬¦ä¸²ã€‚ |
| 27   | **public string Replace( char oldChar, char newChar )** æŠŠå½“å‰ string å¯¹è±¡ä¸­ï¼Œæ‰€æœ‰æŒ‡å®šçš„ Unicode å­—ç¬¦æ›¿æ¢ä¸ºå¦ä¸€ä¸ªæŒ‡å®šçš„ Unicode å­—ç¬¦ï¼Œå¹¶è¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚ |
| 28   | **public string Replace( string oldValue, string newValue )** æŠŠå½“å‰ string å¯¹è±¡ä¸­ï¼Œæ‰€æœ‰æŒ‡å®šçš„å­—ç¬¦ä¸²æ›¿æ¢ä¸ºå¦ä¸€ä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ–°çš„å­—ç¬¦ä¸²ã€‚ |
| 29   | **public string[] Split( params char[] separator )** è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼ŒåŒ…å«å½“å‰çš„ string å¯¹è±¡ä¸­çš„å­å­—ç¬¦ä¸²ï¼Œå­å­—ç¬¦ä¸²æ˜¯ä½¿ç”¨æŒ‡å®šçš„ Unicode å­—ç¬¦æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œåˆ†éš”çš„ã€‚ |
| 30   | **public string[] Split( char[] separator, int count )** è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼ŒåŒ…å«å½“å‰çš„ string å¯¹è±¡ä¸­çš„å­å­—ç¬¦ä¸²ï¼Œå­å­—ç¬¦ä¸²æ˜¯ä½¿ç”¨æŒ‡å®šçš„ Unicode å­—ç¬¦æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œåˆ†éš”çš„ã€‚int å‚æ•°æŒ‡å®šè¦è¿”å›çš„å­å­—ç¬¦ä¸²çš„æœ€å¤§æ•°ç›®ã€‚ |
| 31   | **public bool StartsWith( string value )** åˆ¤æ–­å­—ç¬¦ä¸²å®ä¾‹çš„å¼€å¤´æ˜¯å¦åŒ¹é…æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚ |
| 32   | **public char[] ToCharArray()** è¿”å›ä¸€ä¸ªå¸¦æœ‰å½“å‰ string å¯¹è±¡ä¸­æ‰€æœ‰å­—ç¬¦çš„ Unicode å­—ç¬¦æ•°ç»„ã€‚ |
| 33   | **public char[] ToCharArray( int startIndex, int length )** è¿”å›ä¸€ä¸ªå¸¦æœ‰å½“å‰ string å¯¹è±¡ä¸­æ‰€æœ‰å­—ç¬¦çš„ Unicode å­—ç¬¦æ•°ç»„ï¼Œä»æŒ‡å®šçš„ç´¢å¼•å¼€å§‹ï¼Œç›´åˆ°æŒ‡å®šçš„é•¿åº¦ä¸ºæ­¢ã€‚ |
| 34   | **public string ToLower()** æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™å¹¶è¿”å›ã€‚       |
| 35   | **public string ToUpper()** æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å¹¶è¿”å›ã€‚       |
| 36   | **public string Trim()** ç§»é™¤å½“å‰ String å¯¹è±¡ä¸­çš„æ‰€æœ‰å‰å¯¼ç©ºç™½å­—ç¬¦å’Œåç½®ç©ºç™½å­—ç¬¦ã€‚ |

ä¸Šé¢çš„æ–¹æ³•åˆ—è¡¨å¹¶ä¸è¯¦å°½ï¼Œè¯·è®¿é—® MSDN åº“ï¼ŒæŸ¥çœ‹å®Œæ•´çš„æ–¹æ³•åˆ—è¡¨å’Œ String ç±»æ„é€ å‡½æ•°ã€‚

### 3 ä¸€äº›å¸¸è§ç”¨æ³•ä¸å†™æ³•

åœ¨ C# ä¸­ï¼Œå­—ç¬¦ä¸² (string) æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ã€‚å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå®ƒçš„å†…å®¹å°±ä¸èƒ½è¢«æ”¹å˜ã€‚ä»»ä½•çœ‹èµ·æ¥ä¿®æ”¹å­—ç¬¦ä¸²çš„æ“ä½œï¼ˆä¾‹å¦‚è¿æ¥ï¼‰å®é™…ä¸Šéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ã€‚

*  ç©ºå­—ç¬¦ä¸²ï¼šstring.Empty

* string.Join(sep)ï¼šä½¿ç”¨æŒ‡å®šåˆ†éš”ç¬¦è¿æ¥

* StringBuilder: å½“éœ€è¦é¢‘ç¹ä¿®æ”¹æˆ–è¿æ¥å¤§é‡å­—ç¬¦ä¸²æ—¶ä½¿ç”¨

æ˜¯ C# 6.0 å¼•å…¥çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå®ƒæä¾›äº†ä¸€ç§æ›´ç®€æ´ã€å¯è¯»æ€§æ›´å¼ºçš„æ–¹å¼æ¥æ„é€ åŒ…å«å˜é‡æˆ–è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²ã€‚ä½ ä¸å†éœ€è¦ä½¿string.Format() æˆ–å­—ç¬¦ä¸²è¿æ¥æ“ä½œç¬¦ +ã€‚

```c#
string name = "Alice";
int age = 30;
string message = $"Hello, my name is {name} and I am {age} years old.";
Console.WriteLine(message);
// è¾“å‡º: Hello, my name is Alice and I am 30 years old.
```

æ™®é€šæ‹¼æ¥å†™æ³•å¾ˆç¹çï¼š

```
string msg = "My name is " + name + ", and I am " + age + " years old.";
```

æ’å€¼å†™æ³•æ›´æ¸…æ™°ï¼š

```c#
string msg = $"My name is {name}, and I am {age} years old.";
```

ä½¿ç”¨ @ ä½œä¸ºå‰ç¼€ï¼Œä¸»è¦ç”¨äºå¤„ç†åŒ…å«åæ–œæ çš„è·¯å¾„æˆ–å¤šè¡Œå­—ç¬¦ä¸²ã€‚

```c#
// è·¯å¾„å­—ç¬¦ä¸²ï¼Œé¿å…è½¬ä¹‰åæ–œæ 
string filePath = @"C:\Program Files\MyApp\data.txt";
Console.WriteLine(filePath); // è¾“å‡º: C:\ProgramFiles\MyApp\data.txt	
// å¤šè¡Œå­—ç¬¦ä¸²
string multiLine = @"This is the first line.
This is the second line.
This line is indented.";
Console.WriteLine(multiLine);
```

> [!important]
>
> æ³¨æ„è¿™é‡Œå­—ç¬¦ä¸²å’Œå­—ç¬¦æ•°ç»„æ˜¯ä¸ä¸€æ ·çš„



## å¾ªç¯è¯­å¥

**var** å…³é”®å­—å…è®¸åœ¨å£°æ˜å±€éƒ¨å˜é‡æ—¶ï¼Œè®©ç¼–è¯‘å™¨æ ¹æ®åˆå§‹åŒ–è¡¨è¾¾å¼æ¨æ–­å˜é‡çš„ç±»å‹ã€‚

**foreach** æä¾›äº†ä¸€ç§ç®€æ´ã€å¯è¯»æ€§é«˜çš„æ–¹å¼æ¥ä¾æ¬¡è®¿é—®é›†åˆä¸­çš„æ‰€æœ‰é¡¹ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç®¡ç†ç´¢å¼•æˆ–è¿­ä»£å™¨ã€‚

è¿™ä¸¤ä¸ªä¸œè¥¿ç»å¸¸æ··åœ¨ä¸€èµ·ç”¨ï¼š

```c#
List<int> numbers = new List<int>{1, 2, 3, 4, 5};
foreach (var number in numbers)
{
	Console.WriteLine(number);
}
```



## æšä¸¾

å£°æ˜æšä¸¾çš„ä¸€èˆ¬è¯­æ³•ï¼š

```c#
enum <enum_name>
{ 
    enumeration list 
};
```

å…¶ä¸­

- *enum_name* æŒ‡å®šæšä¸¾çš„ç±»å‹åç§°ã€‚
- *enumeration list* æ˜¯ä¸€ä¸ªç”¨é€—å·åˆ†éš”çš„æ ‡è¯†ç¬¦åˆ—è¡¨ã€‚

æšä¸¾åˆ—è¡¨ä¸­çš„æ¯ä¸ªç¬¦å·ä»£è¡¨ä¸€ä¸ªæ•´æ•°å€¼ï¼Œä¸€ä¸ªæ¯”å®ƒå‰é¢çš„ç¬¦å·å¤§çš„æ•´æ•°å€¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªæšä¸¾ç¬¦å·çš„å€¼æ˜¯ 0.ä¾‹å¦‚ï¼š

```c#
enum Days { Sun, Mon, tue, Wed, thu, Fri, Sat };
```

```c#
using System;

public class EnumTest
{
    enum Day { Sun, Mon, Tue, Wed, Thu, Fri, Sat };

    static void Main()
    {
        int x = (int)Day.Sun;
        int y = (int)Day.Fri;
        Console.WriteLine("Sun = {0}", x);
        Console.WriteLine("Fri = {0}", y);
    }
}
//è¾“å‡º
Sun = 0
Fri = 5
```





## C#ç±»

### 1 æ ¸å¿ƒæ¦‚å¿µï¼šç±»æ˜¯â€œè“å›¾â€

**ç±» (Class)** æ˜¯åˆ›å»º**å¯¹è±¡ (Object)** çš„**è“å›¾ã€æ¨¡æ¿æˆ–è®¾è®¡å›¾**ã€‚

å®ƒå®šä¹‰äº†ä¸€ç±»äº‹ç‰©åº”è¯¥å…·æœ‰çš„ **çŠ¶æ€ï¼ˆæ•°æ®ï¼‰** å’Œ **è¡Œä¸ºï¼ˆåŠŸèƒ½ï¼‰**ã€‚

*   **è“å›¾ (ç±»):** `class Car`
    *   **çŠ¶æ€/å±æ€§:** é¢œè‰²ã€å“ç‰Œã€å½“å‰é€Ÿåº¦...
    *   **è¡Œä¸º/æ–¹æ³•:** åŠ é€Ÿ()ã€åˆ¹è½¦()ã€é¸£ç¬›()...

*   **å®ä½“ (å¯¹è±¡):** `new Car()`
    *   ä¸€è¾†çº¢è‰²çš„æ³•æ‹‰åˆ©ï¼ˆä¸€ä¸ªå¯¹è±¡ï¼‰
    *   ä¸€è¾†é»‘è‰²çš„å®é©¬ï¼ˆå¦ä¸€ä¸ªå¯¹è±¡ï¼‰

æ¯ä¸ªå¯¹è±¡éƒ½æ˜¯æ ¹æ®åŒä¸€ä»½è“å›¾åˆ›å»ºçš„ï¼Œä½†å®ƒä»¬æ˜¯ç‹¬ç«‹çš„ä¸ªä½“ï¼Œå¯ä»¥æœ‰å„è‡ªä¸åŒçš„çŠ¶æ€ï¼ˆæ¯”å¦‚é¢œè‰²ä¸åŒï¼‰ã€‚

### 2 ç±»çš„å››å¤§æ ¸å¿ƒç»„æˆéƒ¨åˆ†

æˆ‘ä»¬ç”¨ä¸€ä¸ªå®Œæ•´çš„ `Person` ç±»æ¥è´¯ç©¿è®²è§£è¿™å››ä¸ªéƒ¨åˆ†ã€‚

```csharp
// è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„â€œäººâ€çš„è“å›¾ (Class)
public class Person
{
    // 1. å­—æ®µ (Fields) -> å†…éƒ¨æ•°æ®å­˜å‚¨
    private string _socialSecurityNumber; // ç§æœ‰çš„ï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®

    // 2. å±æ€§ (Properties) -> å¯¹å¤–æš´éœ²çš„æ•°æ®çª—å£
    public string Name { get; set; }
    public int Age { get; private set; } // Age å¤–éƒ¨åªè¯»ï¼Œå†…éƒ¨å¯å†™

    // 3. æ„é€ å‡½æ•° (Constructor) -> å¯¹è±¡çš„â€œå‡ºç”Ÿä»ªå¼â€
    public Person(string name, int age, string ssn)
    {
        Console.WriteLine("ä¸€ä¸ªäººæ­£åœ¨è¢«åˆ›å»º...");
        this.Name = name;
        this.Age = age;
        this._socialSecurityNumber = ssn;
    }

    // 4. æ–¹æ³• (Methods) -> å¯¹è±¡çš„â€œè¡Œä¸ºèƒ½åŠ›â€
    public void Introduce()
    {
        Console.WriteLine($"å¤§å®¶å¥½ï¼Œæˆ‘å« {this.Name}ï¼Œä»Šå¹´ {this.Age} å²äº†ã€‚");
    }
}
```

##### a. å­—æ®µ (Fields) å’Œ å±æ€§ (Properties) â€”â€” ä»£è¡¨â€œçŠ¶æ€â€

*   **å­—æ®µ (Field)**: ç±»å†…éƒ¨çš„æ™®é€šå˜é‡ï¼Œç”¨äºå­˜å‚¨æ•°æ®ã€‚é€šå¸¸è®¾ä¸º `private`ï¼Œä»¥ä¿æŠ¤æ•°æ®ä¸è¢«å¤–éƒ¨éšæ„ä¿®æ”¹ã€‚å°±åƒäººçš„åŸºå› ï¼Œæ˜¯å†…éƒ¨æ ¸å¿ƒä¿¡æ¯ã€‚
    *   `private string _socialSecurityNumber;`

*   **å±æ€§ (Property)**: â€œæ™ºèƒ½â€çš„å­—æ®µï¼Œæ˜¯å¤–éƒ¨è®¿é—®å†…éƒ¨æ•°æ®çš„**å”¯ä¸€çª—å£**ã€‚å®ƒé€šè¿‡ `get` å’Œ `set` è®¿é—®å™¨æ¥æ§åˆ¶æ•°æ®çš„è¯»å–å’Œå†™å…¥ã€‚è¿™æ˜¯**å°è£… (Encapsulation)** æ€æƒ³çš„æ ¸å¿ƒä½“ç°ã€‚
    *   `public string Name { get; set; }`ï¼šè¿™æ˜¯è‡ªåŠ¨å±æ€§ï¼Œæœ€ç®€æ´çš„å†™æ³•ï¼Œå…è®¸å¤–éƒ¨è‡ªç”±è¯»å†™ã€‚
    *   `public int Age { get; private set; }`ï¼šè¿™è¡¨ç¤º `Age` å±æ€§ï¼Œå¤–éƒ¨ä»£ç åªèƒ½è¯»å– (`get`)ï¼Œä½†åªæœ‰ `Person` ç±»å†…éƒ¨çš„ä»£ç å¯ä»¥ä¿®æ”¹ (`private set`)ã€‚

##### b. æ„é€ å‡½æ•° (Constructor) â€”â€” ä»£è¡¨â€œåˆ›å»ºâ€

*   å½“ä½ ä½¿ç”¨ `new Person(...)` æ—¶ï¼Œæ„é€ å‡½æ•°è¢«**è‡ªåŠ¨è°ƒç”¨**ã€‚
*   å®ƒçš„å·¥ä½œæ˜¯**åˆå§‹åŒ–å¯¹è±¡**ï¼Œç¡®ä¿å¯¹è±¡ä¸€è¢«åˆ›å»ºå°±å¤„äºä¸€ä¸ªæœ‰æ•ˆçš„ã€æœ‰æ„ä¹‰çš„çŠ¶æ€ã€‚
*   åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ„é€ å‡½æ•°å¼ºåˆ¶è¦æ±‚åˆ›å»º `Person` æ—¶å¿…é¡»æä¾›å§“åã€å¹´é¾„å’Œç¤¾ä¿å·ã€‚

##### c. æ–¹æ³• (Methods) â€”â€” ä»£è¡¨â€œè¡Œä¸ºâ€

*   æ–¹æ³•å®šä¹‰äº†å¯¹è±¡èƒ½åšä»€ä¹ˆã€‚
*   `public void Introduce()` å°±æ˜¯ `Person` å¯¹è±¡çš„ä¸€ä¸ªè¡Œä¸ºèƒ½åŠ›ã€‚

### 3 å¦‚ä½•ä½¿ç”¨ç±»ï¼šä»è“å›¾åˆ°å®ä½“

```csharp
// ä½¿ç”¨ new å…³é”®å­—ï¼Œæ ¹æ® Person è“å›¾åˆ›å»ºä¸€ä¸ªçœŸå®çš„å¯¹è±¡ zhangSan
// "å¼ ä¸‰", 30, "123..." è¿™äº›å‚æ•°ä¼šä¼ é€’ç»™æ„é€ å‡½æ•°
Person zhangSan = new Person("å¼ ä¸‰", 30, "123456789");

// zhangSan æ˜¯ä¸€ä¸ªå…·ä½“çš„å¯¹è±¡äº†ï¼Œæˆ‘ä»¬å¯ä»¥å’Œä»–äº¤äº’
// 1. è®¿é—®ä»–çš„å±æ€§
Console.WriteLine(zhangSan.Name); // è¾“å‡º: å¼ ä¸‰

// 2. è°ƒç”¨ä»–çš„æ–¹æ³•
zhangSan.Introduce(); // è¾“å‡º: å¤§å®¶å¥½ï¼Œæˆ‘å« å¼ ä¸‰ï¼Œä»Šå¹´ 30 å²äº†ã€‚

// 3. å°è¯•ä¿®æ”¹åªè¯»å±æ€§
// zhangSan.Age = 31; // ç¼–è¯‘é”™è¯¯ï¼å› ä¸º Age çš„ set æ˜¯ private çš„ã€‚
```

### 4 ç±»çš„ä¸‰å¤§æ”¯æŸ±æ€æƒ³

ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç”¨ç±»ï¼Ÿå› ä¸ºå®ƒèƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç»„ç»‡ä»£ç ï¼Œå¹¶å®ç°è¿™ä¸‰å¤§å¼ºå¤§çš„æ€æƒ³ï¼š

1.  **å°è£… (Encapsulation)**
    *   **æ˜¯ä»€ä¹ˆ**ï¼šå°†æ•°æ®ï¼ˆå­—æ®µï¼‰å’Œæ“ä½œè¿™äº›æ•°æ®çš„æ–¹æ³•ï¼ˆå±æ€§ã€æ–¹æ³•ï¼‰æ†ç»‘åœ¨ä¸€ä¸ªå•å…ƒï¼ˆç±»ï¼‰ä¸­ï¼Œå¹¶å¯¹å¤–éƒ¨éšè—å†…éƒ¨çš„å®ç°ç»†èŠ‚ã€‚
    *   **å¦‚ä½•å®ç°**ï¼šé€šè¿‡ `private` å­—æ®µå’Œ `public` å±æ€§/æ–¹æ³•ã€‚
    *   **å¥½å¤„**ï¼šä¿æŠ¤æ•°æ®å®‰å…¨ï¼Œç®€åŒ–å¤–éƒ¨ä½¿ç”¨ã€‚

2.  **ç»§æ‰¿ (Inheritance)**
    *   **æ˜¯ä»€ä¹ˆ**ï¼šä¸€ä¸ªç±»ï¼ˆå­ç±»ï¼‰å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼ˆçˆ¶ç±»ï¼‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯ä»¥æ·»åŠ è‡ªå·±çš„æ–°åŠŸèƒ½æˆ–ä¿®æ”¹ç°æœ‰åŠŸèƒ½ã€‚
    *   **å¦‚ä½•å®ç°**ï¼šä½¿ç”¨å†’å· `:`ã€‚ `public class Student : Person { ... }`
    *   **å¥½å¤„**ï¼šä»£ç é‡ç”¨ã€‚`Student` ç±»æ— éœ€é‡å¤ç¼–å†™ `Name`, `Age`, `Introduce` ç­‰ä»£ç ã€‚

3.  **å¤šæ€ (Polymorphism)**
    *   **æ˜¯ä»€ä¹ˆ**ï¼šâ€œå¤šç§å½¢æ€â€ã€‚å…è®¸ä¸åŒç±»çš„å¯¹è±¡å¯¹åŒä¸€ä¸ªæ¶ˆæ¯ï¼ˆæ–¹æ³•è°ƒç”¨ï¼‰åšå‡ºä¸åŒçš„å“åº”ã€‚
    *   **å¦‚ä½•å®ç°**ï¼šé€šè¿‡ `virtual` (åœ¨çˆ¶ç±»ä¸­æ ‡è®°æ–¹æ³•å¯è¢«é‡å†™) å’Œ `override` (åœ¨å­ç±»ä¸­é‡å†™æ–¹æ³•)ã€‚
    *   **å¥½å¤„**ï¼šæå¤§åœ°æé«˜äº†ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

---

### 5 æ€»ç»“ï¼šæ‰€æœ‰çŸ¥è¯†ç‚¹çš„ä¸²è”

*   ä½ å®šä¹‰ä¸€ä¸ª **ç±» (Class)** ä½œä¸ºè“å›¾ã€‚
*   ç±»é‡Œé¢æœ‰ **å±æ€§ (Property)** æè¿°çŠ¶æ€ï¼Œ**æ–¹æ³• (Method)** æè¿°è¡Œä¸ºã€‚
*   **æ„é€ å‡½æ•° (Constructor)** è´Ÿè´£åœ¨å¯¹è±¡åˆ›å»ºæ—¶è¿›è¡Œåˆå§‹åŒ–ã€‚
*   ä½ ä½¿ç”¨ **`new` å…³é”®å­—** æ¥è°ƒç”¨æ„é€ å‡½æ•°ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªçœŸå®çš„å¯¹è±¡ã€‚
*   **ä¾èµ–æ³¨å…¥ (DI)** æ˜¯ä¸€ç§é«˜çº§çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒå»ºè®®ä½ ä¸è¦åœ¨æ„é€ å‡½æ•°é‡Œ `new` ä¾èµ–ï¼Œè€Œæ˜¯æŠŠä¾èµ–ä½œä¸ºå‚æ•°ä»å¤–éƒ¨ä¼ è¿›æ¥ï¼Œå…¶ç›®çš„å°±æ˜¯ä¸ºäº†è®©ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»æ›´åŠ æ¾æ•£ã€çµæ´»ã€‚ï¼ˆåè¯

ç±»æ˜¯ C# ä¹ƒè‡³æ‰€æœ‰é¢å‘å¯¹è±¡è¯­è¨€çš„åŸºçŸ³ã€‚æŒæ¡äº†å®ƒï¼Œä½ å°±æŒæ¡äº†æ„å»ºå¤æ‚è½¯ä»¶ç³»ç»Ÿçš„åŸºç¡€ã€‚



## C#æ–¹æ³•

æ–¹æ³•ç†è§£æˆå®šä¹‰åœ¨ç±»ä¸­çš„å‡½æ•°ï¼Œè€Œæ„é€ å‡½æ•°æ˜¯ç”¨äºåˆ›å»ºå¯¹è±¡çš„ç‰¹æ®Šæ–¹æ³•ã€‚å®ƒçš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿å¯¹è±¡åœ¨é¦–æ¬¡ä½¿ç”¨ä¹‹å‰å¤„äºæœ‰æ•ˆçš„çŠ¶æ€ã€‚

å‡½æ•°ï¼ˆä¹Ÿç§°ä¸ºæ–¹æ³•ï¼‰æ˜¯ä¸€æ®µæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç å—ï¼Œå‡½æ•°åœ¨ C# ä¸­åº”è¯¥å®šä¹‰åœ¨ç±»ä¸­ã€‚

```c#
å‡½æ•°ï¼ˆä¹Ÿç§°ä¸ºæ–¹æ³•ï¼‰æ˜¯ä¸€æ®µæ‰§è¡Œç‰¹å®šä»»åŠ¡çš„ä»£ç å—ï¼Œå‡½æ•°åœ¨ C# ä¸­åº”è¯¥å®šä¹‰åœ¨ç±»ä¸­ã€‚
// è¿™é‡Œæ˜¯ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªå¾…ä¼šä¼šè¯¦ç»†è®²è§£
public class MyFunctions
{
    // å®šä¹‰ä¸€ä¸ªä¸å¸¦å‚æ•°ï¼Œæ— è¿”å›å€¼çš„å‡½æ•°
    public void Greet()
    {Console.WriteLine("ä½ å¥½ï¼Œä¸–ç•Œï¼");}
    // å®šä¹‰ä¸€ä¸ªå¸¦å‚æ•°ï¼Œæœ‰è¿”å›å€¼çš„å‡½æ•°
    public int Add(int a, int b){return a + b;}
}
```



## æ–¹æ³•é‡è½½ 

### 1 æ ¸å¿ƒæ¦‚å¿µ

**æ–¹æ³•é‡è½½** å°±æ˜¯ **â€œä¸€ä¸ªåå­—ï¼Œå¤šç§ç”¨é€”â€**ã€‚

å®ƒå…è®¸åœ¨åŒä¸€ä¸ªç±»ä¸­å®šä¹‰å¤šä¸ª**åŒåçš„æ–¹æ³•**ï¼Œä½†å®ƒä»¬çš„**å‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŒ**ã€‚

### 2 å®ç°è§„åˆ™

æ»¡è¶³ä»¥ä¸‹ä»»æ„ä¸€æ¡å³å¯æ„æˆé‡è½½ï¼š

*   **å‚æ•°ä¸ªæ•°ä¸åŒ**
*   **å‚æ•°ç±»å‹ä¸åŒ**
*   **å‚æ•°é¡ºåºä¸åŒ**ï¼ˆå‰ææ˜¯å‚æ•°ç±»å‹å› æ­¤è€Œä¸åŒï¼‰

### 3 å…³é”®ç¦å¿Œ

*   **ä»…è¿”å›å€¼ç±»å‹ä¸åŒ**ï¼šä¸èƒ½æ„æˆé‡è½½ã€‚
*   **ä»…å‚æ•°åç§°ä¸åŒ**ï¼šä¸èƒ½æ„æˆé‡è½½ã€‚

### 4 ç¼–è¯‘å™¨å¦‚ä½•é€‰æ‹©

å½“ä½ è°ƒç”¨ä¸€ä¸ªé‡è½½æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæŒ‰ä»¥ä¸‹é¡ºåºå¯»æ‰¾æœ€ä½³åŒ¹é…ï¼š

1.  **å®Œç¾åŒ¹é…**ï¼šå¯»æ‰¾å‚æ•°ç±»å‹å’Œæ•°é‡å®Œå…¨ä¸€è‡´çš„ç‰ˆæœ¬ã€‚
2.  **éšå¼è½¬æ¢åŒ¹é…**ï¼šå¦‚æœæ²¡æœ‰å®Œç¾åŒ¹é…ï¼Œå°è¯•é€šè¿‡å®‰å…¨çš„ç±»å‹è½¬æ¢ï¼ˆå¦‚ `int` è½¬ `double`ï¼‰æ¥å¯»æ‰¾ä¸€ä¸ªå¯ç”¨çš„ç‰ˆæœ¬ã€‚
3.  **ç¼–è¯‘å¤±è´¥**ï¼šå¦‚æœæ‰¾ä¸åˆ°ä»»ä½•åŒ¹é…é¡¹ï¼Œåˆ™ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚

### 5 ä¸»è¦ä¼˜ç‚¹

*   **ç®€æ´æ€§**ï¼šè°ƒç”¨è€…åªéœ€è®°ä½ä¸€ä¸ªæ–¹æ³•åå³å¯å¤„ç†å¤šç§æ•°æ®ç±»å‹ï¼ˆå¦‚ `Console.WriteLine()`ï¼‰ã€‚
*   **å¯è¯»æ€§**ï¼šä»£ç æ„å›¾æ›´æ¸…æ™°ï¼Œæ–¹æ³•åç»Ÿä¸€ã€‚
*   **çµæ´»æ€§**ï¼šä¸ºåŒä¸€ä¸ªåŠŸèƒ½æä¾›å¤šç§æ–¹ä¾¿çš„è°ƒç”¨æ–¹å¼ã€‚

```csharp
public class Printer
{
    // é‡è½½ 1: æ‰“å°æ•´æ•°
    public void Print(int data)
    {
        Console.WriteLine("æ•´æ•°: " + data);
    }

    // é‡è½½ 2: æ‰“å°å­—ç¬¦ä¸²
    public void Print(string data)
    {
        Console.WriteLine("å­—ç¬¦ä¸²: " + data);
    }
    
    // é‡è½½ 3: æ‰“å°ä¸¤ä¸ªæ•°
    public void Print(int a, int b)
    {
        Console.WriteLine($"ä¸¤ä¸ªæ•°: {a}, {b}");
    }
}

// è°ƒç”¨
Printer p = new Printer();
p.Print(100);          // -> è¾“å‡º "æ•´æ•°: 100"
p.Print("Hello");      // -> è¾“å‡º "å­—ç¬¦ä¸²: Hello"
p.Print(5, 10);        // -> è¾“å‡º "ä¸¤ä¸ªæ•°: 5, 10"
```





## æ„é€ å‡½æ•°

ç±»çš„ **æ„é€ å‡½æ•°** æ˜¯ç±»çš„ä¸€ä¸ªç‰¹æ®Šçš„æˆå‘˜å‡½æ•°ï¼Œå½“åˆ›å»ºç±»çš„æ–°å¯¹è±¡æ—¶æ‰§è¡Œã€‚

æ„é€ å‡½æ•°çš„åç§°ä¸ç±»çš„åç§°å®Œå…¨ç›¸åŒï¼Œå®ƒæ²¡æœ‰ä»»ä½•è¿”å›ç±»å‹ã€‚

ä¸‹é¢çš„å®ä¾‹è¯´æ˜äº†æ„é€ å‡½æ•°çš„æ¦‚å¿µï¼š

```c#
using System;
namespace LineApplication
{
   class Line
   {
      private double length;   // çº¿æ¡çš„é•¿åº¦
      public Line()
      {
         Console.WriteLine("å¯¹è±¡å·²åˆ›å»º");
      }

      public void setLength( double len )
      {
         length = len;
      }
      public double getLength()
      {
         return length;
      }

      static void Main(string[] args)
      {
         Line line = new Line();    
         // è®¾ç½®çº¿æ¡é•¿åº¦
         line.setLength(6.0);
         Console.WriteLine("çº¿æ¡çš„é•¿åº¦ï¼š {0}", line.getLength());
         Console.ReadKey();
      }
   }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
å¯¹è±¡å·²åˆ›å»º
çº¿æ¡çš„é•¿åº¦ï¼š 6
```

**é»˜è®¤çš„æ„é€ å‡½æ•°**æ²¡æœ‰ä»»ä½•å‚æ•°ã€‚ä½†æ˜¯å¦‚æœä½ éœ€è¦ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„æ„é€ å‡½æ•°å¯ä»¥æœ‰å‚æ•°ï¼Œè¿™ç§æ„é€ å‡½æ•°å«åš**å‚æ•°åŒ–æ„é€ å‡½æ•°**ã€‚è¿™ç§æŠ€æœ¯å¯ä»¥å¸®åŠ©ä½ åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶ç»™å¯¹è±¡èµ‹åˆå§‹å€¼ï¼Œå…·ä½“è¯·çœ‹ä¸‹é¢å®ä¾‹ï¼š

```c#
using System;
namespace LineApplication
{
   class Line
   {
      private double length;   // çº¿æ¡çš„é•¿åº¦
      public Line(double len)  // å‚æ•°åŒ–æ„é€ å‡½æ•°
      {
         Console.WriteLine("å¯¹è±¡å·²åˆ›å»ºï¼Œlength = {0}", len);
         length = len;
      }

      public void setLength( double len )
      {
         length = len;
      }
      public double getLength()
      {
         return length;
      }

      static void Main(string[] args)
      {
         Line line = new Line(10.0);
         Console.WriteLine("çº¿æ¡çš„é•¿åº¦ï¼š {0}", line.getLength()); 
         // è®¾ç½®çº¿æ¡é•¿åº¦
         line.setLength(6.0);
         Console.WriteLine("çº¿æ¡çš„é•¿åº¦ï¼š {0}", line.getLength()); 
         Console.ReadKey();
      }
   }
}=
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
å¯¹è±¡å·²åˆ›å»ºï¼Œlength = 10
çº¿æ¡çš„é•¿åº¦ï¼š 10
çº¿æ¡çš„é•¿åº¦ï¼š 6
```





## C# ç±»çš„é™æ€æˆå‘˜

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ **static** å…³é”®å­—æŠŠç±»æˆå‘˜å®šä¹‰ä¸ºé™æ€çš„ã€‚å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ªç±»æˆå‘˜ä¸ºé™æ€æ—¶ï¼Œæ„å‘³ç€æ— è®ºæœ‰å¤šå°‘ä¸ªç±»çš„å¯¹è±¡è¢«åˆ›å»ºï¼Œåªä¼šæœ‰ä¸€ä¸ªè¯¥é™æ€æˆå‘˜çš„å‰¯æœ¬ã€‚

å…³é”®å­— **static** æ„å‘³ç€ç±»ä¸­åªæœ‰ä¸€ä¸ªè¯¥æˆå‘˜çš„å®ä¾‹ã€‚é™æ€å˜é‡ç”¨äºå®šä¹‰å¸¸é‡ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼å¯ä»¥é€šè¿‡ç›´æ¥è°ƒç”¨ç±»è€Œä¸éœ€è¦åˆ›å»ºç±»çš„å®ä¾‹æ¥è·å–ã€‚é™æ€å˜é‡å¯åœ¨æˆå‘˜å‡½æ•°æˆ–ç±»çš„å®šä¹‰å¤–éƒ¨è¿›è¡Œåˆå§‹åŒ–ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ç±»çš„å®šä¹‰å†…éƒ¨åˆå§‹åŒ–é™æ€å˜é‡ã€‚

ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†**é™æ€å˜é‡**çš„ç”¨æ³•ï¼š

```c#
using System;
namespace StaticVarApplication
{
    class StaticVar
    {
       public static int num;
        public void count()
        {
            num++;
        }
        public int getNum()
        {
            return num;
        }
    }
    class StaticTester
    {
        static void Main(string[] args)
        {
            StaticVar s1 = new StaticVar();
            StaticVar s2 = new StaticVar();
            s1.count();
            s1.count();
            s1.count();
            s2.count();
            s2.count();
            s2.count();         
            Console.WriteLine("s1 çš„å˜é‡ numï¼š {0}", s1.getNum());
            Console.WriteLine("s2 çš„å˜é‡ numï¼š {0}", s2.getNum());
            Console.ReadKey();
        }
    }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
s1 çš„å˜é‡ numï¼š 6
s2 çš„å˜é‡ numï¼š 6
```

> [!important]
>
> é™æ€å˜é‡åªä¼šæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯å®ä¾‹s1è°ƒç”¨.countè¿˜æ˜¯s2è°ƒç”¨.countï¼Œéƒ½ä¼šåœ¨åŒä¸€ä¸ªå˜é‡ä¸Šè¿›è¡Œè¿ç®—

ä½ ä¹Ÿå¯ä»¥æŠŠä¸€ä¸ª**æˆå‘˜å‡½æ•°**å£°æ˜ä¸º **static**ã€‚è¿™æ ·çš„å‡½æ•°åªèƒ½è®¿é—®é™æ€å˜é‡ã€‚é™æ€å‡½æ•°åœ¨å¯¹è±¡è¢«åˆ›å»ºä¹‹å‰å°±å·²ç»å­˜åœ¨ã€‚ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†**é™æ€å‡½æ•°**çš„ç”¨æ³•ï¼š

```c#
using System;
namespace StaticVarApplication
{
    class StaticVar
    {
        public static int num;
        public void count()
        {
            num++;
        }
        public static int getNum()
        {
            return num;
        }
    }
    class StaticTester
    {
        static void Main(string[] args)
        {
            StaticVar s = new StaticVar();
            s.count();
            s.count();
            s.count();                   
            Console.WriteLine("å˜é‡ numï¼š {0}", StaticVar.getNum());
            Console.ReadKey();
        }
    }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
å˜é‡ numï¼š 3
```



## ç±»ä¸­çš„å±æ€§

> [!note]
>
> å±æ€§ï¼šé€šè¿‡å¯¹å¤–æš´éœ²çš„å±æ€§æ¥ä¿®æ”¹å­—æ®µ

```c#
public class BankAccount
{
    private decimal balance; // å­—æ®µï¼Œä¸èƒ½ç›´æ¥è¢«å¤–éƒ¨è®¿é—®

    public decimal Balance    // å±æ€§ï¼Œç”¨æ¥é—´æ¥è®¿é—®å­—æ®µ
    {
        get { return balance; }
        set
        {
            if (value >= 0) // æ§åˆ¶é€»è¾‘ï¼šä½™é¢ä¸èƒ½ä¸ºè´Ÿ
                balance = value;
        }
    }
}
//å¤–éƒ¨è°ƒç”¨
â€¦â€¦
    BankAccount my = new BankAccount();

    // è®¾ç½®ä½™é¢ï¼ˆä½¿ç”¨ setï¼‰
    my.Balance = 70;

    // è·å–ä½™é¢ï¼ˆä½¿ç”¨ getï¼‰
    decimal a = my.Balance;
```

è¿™æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæ­£å¸¸å¯ä»¥ç›´æ¥ç”¨`{get,set}`æ¥ä½¿ç”¨ã€‚

>> ä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠå­—æ®µ `public`ï¼Ÿè¿™æ ·ä¸æ˜¯æ›´ç®€å•ï¼Ÿ
>
>ç­”æ¡ˆæ˜¯ï¼š**å¯ä»¥ï¼Œä½†ä¸å»ºè®®ã€‚**
>
>------
>
>####  1. **å°è£…æ€§ï¼ˆEncapsulationï¼‰**
>
>å¦‚æœå­—æ®µæ˜¯ `public`ï¼Œä½ å°±**æ— æ³•æ§åˆ¶å®ƒçš„è¯»å†™è¡Œä¸º**ï¼Œä»»ä½•ä»£ç éƒ½èƒ½éšæ„èµ‹å€¼ç”šè‡³èµ‹é”™å€¼ï¼š
>
>```c#
>class BankAccount
>{
>   public decimal balance;  // âŒ æ²¡æœ‰æ§åˆ¶
>}
>...
>var acc = new BankAccount();
>acc.balance = -10000000;    // ğŸ’¥ å®Œå…¨åˆæ³•ï¼Œä½†æ˜æ˜¾ä¸åˆç†
>```
> 
>è€Œä½¿ç”¨å±æ€§ä½ å¯ä»¥**åŠ ä¸Šé€»è¾‘åˆ¤æ–­**ï¼š
>
>```c#
>decimal Balance
>{
>   get { return balance; }
>   set
>   {
>       if (value >= 0)
>           balance = value;
>   }
> }
> ```
> 
> ------
> 
> #### 2. **æ›´å¼ºçš„å¯ç»´æŠ¤æ€§å’Œçµæ´»æ€§**
>
>å‡è®¾ä½ æœ€åˆè®©å­—æ®µ `public`ï¼Œåæ¥åˆæƒ³åŠ åˆ¤æ–­é€»è¾‘ï¼Œé‚£ä½ å°±è¦ï¼š
>
>- æŠŠæ‰€æœ‰ç”¨è¿‡è¿™ä¸ªå­—æ®µçš„ä»£ç éƒ½æ‰¾å‡ºæ¥é‡æ”¹ä¸€éï¼ˆå¯èƒ½å·²ç»åˆ°å¤„ç”¨äº†ï¼‰
>- å…¼å®¹å„ç§æ—§å†™æ³•ï¼Œç»´æŠ¤è´Ÿæ‹…å¤§
>
>ä½†å¦‚æœä¸€å¼€å§‹å°±ç”¨äº†å±æ€§ï¼Œå³ä½¿å†…éƒ¨å®ç°æ–¹å¼å˜äº†ï¼ˆæ¯”å¦‚ä»¥å balance ä¸å†ä¿å­˜åœ¨å˜é‡ä¸­ï¼Œè€Œæ˜¯å»æŸ¥æ•°æ®åº“ï¼‰ï¼Œå¤–éƒ¨è®¿é—®æ–¹å¼éƒ½**ä¸ç”¨æ”¹**ï¼
>
>```c#
>decimal Balance
>{
>   get { return GetFromDatabase(); }
>   set { SaveToDatabase(value); }
>}
>```
>
>------
> 
> #### 3. **æ”¯æŒåªè¯» / åªå†™ / è®¡ç®—å‹å±æ€§**
>
>å±æ€§å¯ä»¥è®¾ç½®åªè¯»ã€åªå†™ï¼Œæˆ–è€…æ ¹æ®å…¶ä»–å˜é‡è®¡ç®—ï¼Œä¸ä¸€å®šæœ‰ backing fieldï¼š
>
>```c#
>public string FullName => FirstName + " " + LastName;  // âœ… è®¡ç®—å‹å±æ€§
>csharpCopyEditpublic int Age
>{
>   get { return DateTime.Now.Year - birthYear; }  // âœ… åªè¯»
>}
>```
>

### ä¸¤ç§ä¸»è¦å†™æ³•

##### a. è‡ªåŠ¨å®ç°å±æ€§ (Auto-Implemented Property)

è¿™æ˜¯æœ€å¸¸è§ã€æœ€ç®€æ´çš„å†™æ³•ã€‚å½“ä½ ä¸éœ€è¦ä»»ä½•é¢å¤–çš„é€»è¾‘æ—¶ï¼Œå°±ç”¨å®ƒã€‚

```csharp
// ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åœ¨åå°ä¸ºä½ åˆ›å»ºä¸€ä¸ªç§æœ‰çš„ã€çœ‹ä¸è§çš„å­—æ®µæ¥å­˜å‚¨æ•°æ®
public class Person
{
    public string Name { get; set; }
    public int Age { get; set; }
}

// ä½¿ç”¨èµ·æ¥å°±åƒä¸€ä¸ªå…¬å…±å˜é‡
Person p = new Person();
p.Name = "æå››";      // è¿™é‡Œè°ƒç”¨äº† set è®¿é—®å™¨
string name = p.Name; // è¿™é‡Œè°ƒç”¨äº† get è®¿é—®å™¨
```

##### b. å®Œæ•´å®ç°å±æ€§ (Full Property)

å½“ä½ éœ€è¦å¯¹æ•°æ®çš„è¯»å†™è¿›è¡Œæ§åˆ¶æ—¶ï¼ˆä¾‹å¦‚ï¼Œæ•°æ®éªŒè¯ï¼‰ï¼Œå°±éœ€è¦è¿™ç§å†™æ³•ã€‚

è¿™ç§å†™æ³•éœ€è¦ä½ **æ‰‹åŠ¨å£°æ˜ä¸€ä¸ªç§æœ‰å­—æ®µ**ï¼ˆé€šå¸¸ä»¥ä¸‹åˆ’çº¿ `_` å¼€å¤´ï¼‰æ¥å­˜å‚¨æ•°æ®ã€‚

```csharp
public class Product
{
    private string _name; // ç§æœ‰çš„â€œåå¤‡å­—æ®µâ€ (Backing Field)

    public string Name
    {
        get
        {
            // get è®¿é—®å™¨ï¼šç›´æ¥è¿”å›ç§æœ‰å­—æ®µçš„å€¼
            return _name;
        }
        set
        {
            // set è®¿é—®å™¨ï¼šåœ¨èµ‹å€¼å‰è¿›è¡Œæ£€æŸ¥
            if (string.IsNullOrEmpty(value))
            {
                throw new ArgumentException("äº§å“åç§°ä¸èƒ½ä¸ºç©ºï¼");
            }
            // 'value' æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å…³é”®å­—ï¼Œä»£è¡¨ä½ èµ‹è¿‡æ¥çš„å€¼
            _name = value;
        }
    }
}
```



## ç»§æ‰¿

ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­æœ€é‡è¦çš„æ¦‚å¿µä¹‹ä¸€ã€‚ç»§æ‰¿å…è®¸æˆ‘ä»¬æ ¹æ®ä¸€ä¸ªç±»æ¥å®šä¹‰å¦ä¸€ä¸ªç±»ï¼Œè¿™ä½¿å¾—åˆ›å»ºå’Œç»´æŠ¤åº”ç”¨ç¨‹åºå˜å¾—æ›´å®¹æ˜“ã€‚åŒæ—¶ä¹Ÿæœ‰åˆ©äºé‡ç”¨ä»£ç å’ŒèŠ‚çœå¼€å‘æ—¶é—´ã€‚

å½“åˆ›å»ºä¸€ä¸ªç±»æ—¶ï¼Œç¨‹åºå‘˜ä¸éœ€è¦å®Œå…¨é‡æ–°ç¼–å†™æ–°çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜å‡½æ•°ï¼Œåªéœ€è¦è®¾è®¡ä¸€ä¸ªæ–°çš„ç±»ï¼Œç»§æ‰¿äº†å·²æœ‰çš„ç±»çš„æˆå‘˜å³å¯ã€‚è¿™ä¸ªå·²æœ‰çš„ç±»è¢«ç§°ä¸ºçš„**åŸºç±»**ï¼Œè¿™ä¸ªæ–°çš„ç±»è¢«ç§°ä¸º**æ´¾ç”Ÿç±»**ã€‚

ç»§æ‰¿çš„æ€æƒ³å®ç°äº† **å±äºï¼ˆIS-Aï¼‰** å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå“ºä¹³åŠ¨ç‰© **å±äºï¼ˆIS-Aï¼‰** åŠ¨ç‰©ï¼Œç‹— **å±äºï¼ˆIS-Aï¼‰** å“ºä¹³åŠ¨ç‰©ï¼Œå› æ­¤ç‹— **å±äºï¼ˆIS-Aï¼‰** åŠ¨ç‰©ã€‚

>**ç»§æ‰¿**æ˜¯æŒ‡ä¸€ä¸ªç±»ï¼ˆ**å­ç±»/æ´¾ç”Ÿç±»**ï¼‰å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼ˆ**çˆ¶ç±»/åŸºç±»**ï¼‰çš„æˆå‘˜ï¼ˆå­—æ®µã€æ–¹æ³•ã€å±æ€§ç­‰ï¼‰ã€‚
>
>è¿™æ ·å¯ä»¥å®ç° **ä»£ç å¤ç”¨**ï¼Œå¹¶ä¸º**å¤šæ€ï¼ˆPolymorphismï¼‰**æ‰“ä¸‹åŸºç¡€ã€‚

```c#
class çˆ¶ç±»å
{
    // å­—æ®µã€æ–¹æ³•ã€å±æ€§ç­‰
}

class å­ç±»å : çˆ¶ç±»å
{
    // å­ç±»å¯ä»¥æ–°å¢æˆå‘˜ï¼Œæˆ–é‡å†™çˆ¶ç±»æˆå‘˜
}
```

```c#
class Animal
{
    public void Eat()
    {
        Console.WriteLine("Animal is eating.");
    }
}

public class Dog : Animal  // Dog ç»§æ‰¿ Animal
{
    public void Bark()
    {
        Console.WriteLine("Dog is barking.");
    }
}
csharpCopyEditDog dog = new Dog();
dog.Eat();  // ç»§æ‰¿è‡ª Animal
dog.Bark(); // è‡ªå·±çš„æ–¹æ³•
```

å¦‚æœçˆ¶ç±»æœ‰æ„é€ å‡½æ•°ï¼Œå­ç±»å¯ä»¥é€šè¿‡ `base` è°ƒç”¨å®ƒï¼š

```c#
class Animal
{
    public string Name;
    public Animal(string name)
    {
        Name = name;
    }
}

public class Dog : Animal
{
    public Dog(string name) : base(name)
    {
        Console.WriteLine("Dog created: " + Name);
    }
}
```

>new Dog("Tom")
>  â†“
>Dogæ„é€ å‡½æ•°çš„nameå‚æ•° = "Tom"
>  â†“
>è°ƒç”¨ base(name)ï¼Œçˆ¶ç±»Animalçš„æ„é€ å‡½æ•°æ¥æ”¶å‚æ•°"Tom"
>  â†“
>Animalçš„æ„é€ å‡½æ•°æ‰§è¡Œï¼šthis.Name = "Tom"
>  â†“
>Dogå¯¹è±¡çš„Nameå­—æ®µè¢«èµ‹å€¼ä¸º"Tom"ï¼ˆç»§æ‰¿è‡ªAnimalï¼‰

psï¼šC#ä¸­å¤§æ‹¬å·ä¸€èˆ¬è¦æ¢è¡Œ

æ´¾ç”Ÿç±»ç»§æ‰¿äº†åŸºç±»çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ã€‚å› æ­¤çˆ¶ç±»å¯¹è±¡åº”åœ¨å­ç±»å¯¹è±¡åˆ›å»ºä¹‹å‰è¢«åˆ›å»ºã€‚æ‚¨å¯ä»¥åœ¨æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œçˆ¶ç±»çš„åˆå§‹åŒ–ã€‚

ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†è¿™ç‚¹ï¼š

```c#
using System;
namespace RectangleApplication
{
   class Rectangle
   {
      // æˆå‘˜å˜é‡
      protected double length;
      protected double width;
      public Rectangle(double l, double w)
      {
         length = l;
         width = w;
      }
      public double GetArea()
      {
         return length * width;
      }
      public void Display()
      {
         Console.WriteLine("é•¿åº¦ï¼š {0}", length);
         Console.WriteLine("å®½åº¦ï¼š {0}", width);
         Console.WriteLine("é¢ç§¯ï¼š {0}", GetArea());
      }
   }//end class Rectangle  
   class Tabletop : Rectangle
   {
      private double cost;
      public Tabletop(double l, double w) : base(l, w)   //è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°
      { }
      public double GetCost()
      {
         double cost;
         cost = GetArea() * 70;
         return cost;
      }
      public void Display()
      {
         base.Display();
         Console.WriteLine("æˆæœ¬ï¼š {0}", GetCost());
      }
   }
   class ExecuteRectangle
   {
      static void Main(string[] args)
      {
         Tabletop t = new Tabletop(4.5, 7.5);
         t.Display();
         Console.ReadLine();
      }
   }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
é•¿åº¦ï¼š 4.5
å®½åº¦ï¼š 7.5
é¢ç§¯ï¼š 33.75
æˆæœ¬ï¼š 2362.5
```



## æ¥å£

### 1 æ ¸å¿ƒæ¦‚å¿µï¼šæ¥å£æ˜¯â€œåˆåŒâ€æˆ–â€œè§„èŒƒâ€

**æ¥å£ (Interface)** æ˜¯ä¸€ç§**çº¯ç²¹çš„æŠ½è±¡ç±»å‹**ï¼Œå®ƒåªå®šä¹‰äº†**â€œåº”è¯¥åšä»€ä¹ˆâ€ (What)**ï¼Œè€Œä¸å…³å¿ƒ**â€œå…·ä½“æ€ä¹ˆåšâ€ (How)**ã€‚

å¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä»½**åˆåŒã€è§„èŒƒæˆ–ä¸€ä»½èƒ½åŠ›æ¸…å•**ã€‚ä»»ä½•ç±»å¦‚æœæƒ³â€œç­¾ç½²â€è¿™ä»½åˆåŒï¼Œå°±å¿…é¡»å®ç°åˆåŒä¸­è§„å®šçš„æ‰€æœ‰æ¡æ¬¾ï¼ˆæ–¹æ³•ã€å±æ€§ç­‰ï¼‰ã€‚

### 2 ä¸ºä»€ä¹ˆä½¿ç”¨æ¥å£ï¼Ÿ

ä½¿ç”¨æ¥å£çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å®ç°**æ¾æ•£è€¦åˆ (Loose Coupling)**ï¼Œè¿™å¸¦æ¥äº†å·¨å¤§çš„å¥½å¤„ï¼š

1.  **å®ç°å¤šæ€**ï¼šå…è®¸ä½ ç¼–å†™ä¸€æ®µä»£ç æ¥å¤„ç†**ä»»ä½•**å®ç°äº†è¯¥æ¥å£çš„å¯¹è±¡ï¼Œè€Œæ— éœ€å…³å¿ƒå¯¹è±¡çš„å…·ä½“ç±»å‹ã€‚
2.  **å¼ºåˆ¶ç»Ÿä¸€è§„èŒƒ**ï¼šç¡®ä¿ä¸€ç»„ä¸ç›¸å…³çš„ç±»éƒ½å…·æœ‰æŸäº›å…±åŒçš„åŠŸèƒ½ï¼Œå¹¶éµå¾ªåŒæ ·çš„æ–¹æ³•ç­¾åã€‚
3.  **æ”¯æŒä¾èµ–æ³¨å…¥ (DI)**ï¼šè¿™æ˜¯ç°ä»£è½¯ä»¶æ¶æ„çš„åŸºçŸ³ã€‚ç¨‹åºä¾èµ–äºç¨³å®šçš„â€œæ¥å£åˆåŒâ€ï¼Œè€Œä¸æ˜¯ä¾èµ–äºæ˜“å˜çš„â€œå…·ä½“å®ç°â€ã€‚
4.  **æ–¹ä¾¿å•å…ƒæµ‹è¯•**ï¼šå¯ä»¥è½»æ¾åœ°åˆ›å»ºæ¥å£çš„â€œæ¨¡æ‹Ÿâ€å®ç° (Mock Object) æ¥è¿›è¡Œæµ‹è¯•ã€‚

### 3 æ ¸å¿ƒè¯­æ³•å’Œè§„åˆ™

##### a. å®šä¹‰æ¥å£

*   ä½¿ç”¨ `interface` å…³é”®å­—ã€‚
*   æ¥å£åç§°é€šå¸¸ä»¥å¤§å†™å­—æ¯ `I` å¼€å¤´ï¼ˆä¾‹å¦‚ `IComparable`, `IDisposable`ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå¹¿æ³›éµå¾ªçš„å‘½åçº¦å®šã€‚
*   æ¥å£æˆå‘˜**ä¸èƒ½æœ‰**è®¿é—®ä¿®é¥°ç¬¦ï¼ˆå¦‚ `public`ï¼‰ï¼Œå› ä¸ºå®ƒä»¬**é»˜è®¤å°±æ˜¯å…¬å¼€çš„**ã€‚
*   æ¥å£æˆå‘˜**ä¸èƒ½æœ‰**æ–¹æ³•ä½“ï¼ˆå®ç°ä»£ç ï¼‰ã€‚ï¼ˆæ³¨ï¼šC# 8.0+ å¼•å…¥äº†â€œé»˜è®¤æ¥å£å®ç°â€ï¼Œä½†åŸºæœ¬ç”¨æ³•ä¸­ä»è§†ä¸ºç©ºæ–¹æ³•ä½“ï¼‰

```csharp
// å®šä¹‰ä¸€ä¸ªâ€œå¯å‘å‡ºå£°éŸ³â€çš„åˆåŒ
public interface ISoundable
{
    // å±æ€§è§„èŒƒï¼šå¿…é¡»æœ‰ä¸€ä¸ªåªè¯»çš„ Volume å±æ€§
    int Volume { get; }
    // æ–¹æ³•è§„èŒƒï¼šå¿…é¡»æœ‰ä¸€ä¸ª MakeSound æ–¹æ³•
    void MakeSound();
}
```

##### b. å®ç°æ¥å£

*   ç±»é€šè¿‡åœ¨ç±»ååä½¿ç”¨å†’å· `:` æ¥å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚
*   ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿ä¸€ä¸ªåŸºç±»ï¼ŒåŒæ—¶å®ç°å¤šä¸ªæ¥å£ã€‚
*   **å¿…é¡»å®ç°æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æˆå‘˜**ã€‚

```csharp
// Dog ç±»ç­¾ç½²äº† ISoundable åˆåŒ
public class Dog : ISoundable
{
    // å®ç°åˆåŒè§„å®šçš„ Volume å±æ€§
    public int Volume { get; private set; } = 80;

    // å®ç°åˆåŒè§„å®šçš„ MakeSound æ–¹æ³•
    public void MakeSound()
    {
        Console.WriteLine("æ±ªæ±ªæ±ªï¼");
    }
}

// Car ç±»ä¹Ÿç­¾ç½²äº† ISoundable åˆåŒ
public class Car : ISoundable
{
    public int Volume { get; private set; } = 100;

    public void MakeSound()
    {
        Console.WriteLine("å˜€å˜€å˜€ï¼");
    }
}
```

##### c. ä½¿ç”¨æ¥å£

ä½¿ç”¨æ¥å£çš„æœ€å¤§å¨åŠ›åœ¨äºï¼Œä½ å¯ä»¥**é¢å‘æ¥å£ç¼–ç¨‹**ï¼Œè€Œä¸æ˜¯é¢å‘å…·ä½“ç±»ç¼–ç¨‹ã€‚

```csharp
// è¿™ä¸ªæ–¹æ³•ä¸å…³å¿ƒä¼ æ¥çš„æ˜¯ Dog è¿˜æ˜¯ Carï¼Œå®ƒåªå…³å¿ƒå¯¹è±¡æ˜¯å¦â€œå¯å‘å‡ºå£°éŸ³â€
public void TriggerSound(ISoundable soundMaker)
{
    Console.WriteLine($"éŸ³é‡: {soundMaker.Volume}");
    soundMaker.MakeSound();
}

// ä½¿ç”¨
Dog myDog = new Dog();
Car myCar = new Car();

TriggerSound(myDog); // æ­£å¸¸å·¥ä½œ
TriggerSound(myCar); // æ­£å¸¸å·¥ä½œ

// è¿˜å¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨ä¸€ä¸ªæ¥å£ç±»å‹çš„é›†åˆä¸­
List<ISoundable> soundMakers = new List<ISoundable> { myDog, myCar };
foreach (var item in soundMakers)
{
    item.MakeSound(); // å¤šæ€çš„ä½“ç°
}
```

### 4 ç»§æ‰¿æ¥å£

ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–æ¥å£ï¼Œæ´¾ç”Ÿæ¥å£ç»§æ‰¿äº†åŸºæ¥å£çš„æ‰€æœ‰æˆå‘˜ã€‚

æ´¾ç”Ÿæ¥å£å¯ä»¥æ‰©å±•åŸºæ¥å£çš„æˆå‘˜åˆ—è¡¨ï¼Œä½†ä¸èƒ½æ”¹å˜å®ƒä»¬çš„è®¿é—®ä¿®é¥°ç¬¦ã€‚

```c#
interface IBaseInterface
{
    void Method1();
}

interface IDerivedInterface : IBaseInterface
{
    void Method2();
}
```

ç»§æ‰¿æ¥å£çš„å®ä¾‹å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥å®ç°ï¼š

```c#
using System;

// å®šä¹‰ä¸€ä¸ªåŸºæ¥å£
interface IBaseInterface
{
    void Method1();
}

// å®šä¹‰ä¸€ä¸ªæ´¾ç”Ÿæ¥å£ï¼Œç»§æ‰¿è‡ªåŸºæ¥å£
interface IDerivedInterface : IBaseInterface
{
    void Method2();
}

// å®ç°æ´¾ç”Ÿæ¥å£çš„ç±»
class MyClass : IDerivedInterface
{
    public void Method1()
    {
        Console.WriteLine("Method1 implementation");
    }

    public void Method2()
    {
        Console.WriteLine("Method2 implementation");
    }
}

class Program
{
    static void Main(string[] args)
    {
        // åˆ›å»º MyClass ç±»çš„å®ä¾‹
        MyClass obj = new MyClass();

        // è°ƒç”¨ç»§æ‰¿è‡ªåŸºæ¥å£çš„æ–¹æ³•
        obj.Method1();

        // è°ƒç”¨æ´¾ç”Ÿæ¥å£æ–°å¢çš„æ–¹æ³•
        obj.Method2();
    }
}
```

ä»¥ä¸Šå®ä¾‹ä¸­ MyClass ç±»å®ç°äº† IDerivedInterface æ¥å£ï¼Œå› æ­¤å¿…é¡»æä¾› IDerivedInterface ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼ŒåŒ…æ‹¬ä» IBaseInterfaceç»§æ‰¿çš„ Method1() æ–¹æ³•ã€‚ åœ¨ Main æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº† MyClass çš„å®ä¾‹ obj å¹¶è°ƒç”¨äº†å®ƒçš„æ–¹æ³•ã€‚

è¾“å‡ºç»“æœä¸ºï¼š

```
Method1 implementation
Method2 implementation
```

### 5 C#å¤šé‡ç»§æ‰¿

å¤šé‡ç»§æ‰¿æŒ‡çš„æ˜¯ä¸€ä¸ªç±»åˆ«å¯ä»¥åŒæ—¶ä»å¤šäºä¸€ä¸ªçˆ¶ç±»ç»§æ‰¿è¡Œä¸ºä¸ç‰¹å¾çš„åŠŸèƒ½ã€‚ä¸å•ä¸€ç»§æ‰¿ç›¸å¯¹ï¼Œå•ä¸€ç»§æ‰¿æŒ‡ä¸€ä¸ªç±»åˆ«åªå¯ä»¥ç»§æ‰¿è‡ªä¸€ä¸ªçˆ¶ç±»ã€‚

**C# ä¸æ”¯æŒå¤šé‡ç»§æ‰¿**ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ¥å£æ¥å®ç°å¤šé‡ç»§æ‰¿ã€‚ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†è¿™ç‚¹ï¼š

```c#
using System;
namespace InheritanceApplication
{
   class Shape 
   {
      public void setWidth(int w)
      {
         width = w;
      }
      public void setHeight(int h)
      {
         height = h;
      }
      protected int width;
      protected int height;
   }

   // åŸºç±» PaintCost
   public interface PaintCost 
   {
      int getCost(int area);

   }
   // æ´¾ç”Ÿç±»
   class Rectangle : Shape, PaintCost
   {
      public int getArea()
      {
         return (width * height);
      }
      public int getCost(int area)
      {
         return area * 70;
      }
   }
   class RectangleTester
   {
      static void Main(string[] args)
      {
         Rectangle Rect = new Rectangle();
         int area;
         Rect.setWidth(5);
         Rect.setHeight(7);
         area = Rect.getArea();
         // æ‰“å°å¯¹è±¡çš„é¢ç§¯
         Console.WriteLine("æ€»é¢ç§¯ï¼š {0}",  Rect.getArea());
         Console.WriteLine("æ²¹æ¼†æ€»æˆæœ¬ï¼š ${0}" , Rect.getCost(area));
         Console.ReadKey();
      }
   }
}
```

å½“ä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œæ—¶ï¼Œå®ƒä¼šäº§ç”Ÿä¸‹åˆ—ç»“æœï¼š

```
æ€»é¢ç§¯ï¼š 35
æ²¹æ¼†æ€»æˆæœ¬ï¼š $2450
```



## ä¾èµ–æ³¨å…¥

### 1 æ ¸å¿ƒæ€æƒ³

ä¾èµ–æ³¨å…¥çš„æ ¸å¿ƒæ€æƒ³éå¸¸ç®€å•ï¼š**ä¸è¦åœ¨ç±»å†…éƒ¨åˆ›å»ºå®ƒæ‰€ä¾èµ–çš„å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡å¤–éƒ¨ä¼ é€’ï¼ˆæ³¨å…¥ï¼‰ç»™å®ƒã€‚**

### 2 ä¼˜åŠ¿

*   **æ¾æ•£è€¦åˆ (Loose Coupling)**ï¼šç±»ä¸å†ä¾èµ–äºå…·ä½“çš„å®ç°ï¼Œè€Œæ˜¯ä¾èµ–äºæŠ½è±¡ï¼ˆæ¥å£ï¼‰ã€‚è¿™ä½¿å¾—ç³»ç»Ÿæ›´å®¹æ˜“ä¿®æ”¹å’Œæ‰©å±•ã€‚
*   **æ˜“äºæµ‹è¯• (Testability)**ï¼šåœ¨å•å…ƒæµ‹è¯•æ—¶ï¼Œå¯ä»¥è½»æ¾åœ°ä¼ å…¥ä¸€ä¸ªâ€œå‡çš„â€ä¾èµ–å¯¹è±¡ï¼ˆMock Objectï¼‰ï¼Œä»è€Œç‹¬ç«‹åœ°æµ‹è¯•ä¸€ä¸ªç±»çš„é€»è¾‘ï¼Œè€Œä¸ç”¨ç®¡å®ƒä¾èµ–çš„çœŸå®ç»„ä»¶ã€‚
*   **çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§**ï¼šå½“éœ€è¦æ›´æ¢ä¸€ä¸ªä¾èµ–çš„å®ç°æ—¶ï¼ˆæ¯”å¦‚æ—¥å¿—ç»„ä»¶ä»å†™å…¥æ–‡ä»¶æ”¹æˆå†™å…¥æ•°æ®åº“ï¼‰ï¼Œä½ åªéœ€è¦åœ¨â€œDIå®¹å™¨â€ä¸­ä¿®æ”¹ä¸€å¤„é…ç½®å³å¯ï¼Œè€Œä¸éœ€è¦æ”¹åŠ¨ä»»ä½•ä¸šåŠ¡ä»£ç ã€‚

---

### 3 ä»£ç 

##### a. æ²¡æœ‰DI (ç´§å¯†è€¦åˆ - The Bad Way)

```csharp
// ä¾èµ–çš„å…·ä½“å®ç°
public class EmailService 
{
    public void Send(string message) { /* å‘é€é‚®ä»¶... */ }
}

// ä½¿ç”¨è€…
public class NotificationService
{
    private EmailService _emailService;

    public NotificationService()
    {
        // é—®é¢˜æ‰€åœ¨ï¼šè‡ªå·±åœ¨å†…éƒ¨åˆ›å»ºäº†ä¾èµ–ï¼
        // NotificationService å’Œ EmailService ç´§ç´§åœ°ç»‘åœ¨äº†ä¸€èµ·ã€‚
        _emailService = new EmailService(); 
    }

    public void Notify(string message)
    {
        _emailService.Send(message);
    }
}
```

##### b. ä½¿ç”¨DI (æ¾æ•£è€¦åˆ - The Good Way)

**ç¬¬1æ­¥ï¼šä¾èµ–äºæ¥å£ (æŠ½è±¡)**

```csharp
// 1. å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ˆåˆåŒï¼‰
public interface IMessageService
{
    void Send(string message);
}

// 2. å…·ä½“çš„å®ç°
public class EmailService : IMessageService
{
    public void Send(string message) { /* å‘é€é‚®ä»¶... */ }
}

public class SmsService : IMessageService 
{
    public void Send(string message) { /* å‘é€çŸ­ä¿¡... */ }
}
```

**ç¬¬2æ­¥ï¼šé€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥ä¾èµ–**

```csharp
public class NotificationService
{
    // åªä¾èµ–äºæ¥å£ï¼Œä¸å…³å¿ƒå…·ä½“æ˜¯è°
    private readonly IMessageService _messageService; 

    // å…³é”®ï¼šä¾èµ–é€šè¿‡æ„é€ å‡½æ•°ä»å¤–éƒ¨â€œæ³¨å…¥â€è¿›æ¥
    public NotificationService(IMessageService messageService)
    {
        _messageService = messageService;
    }

    public void Notify(string message)
    {
        _messageService.Send(message);
    }
}
```

### 4 æ³¨å…¥çš„ä¸‰ç§ä¸»è¦æ–¹å¼

1.  **æ„é€ å‡½æ•°æ³¨å…¥ (Constructor Injection)**
    *   é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥ä¾èµ–ã€‚
    *   **æœ€å¸¸ç”¨ã€æœ€æ¨èçš„æ–¹å¼**ã€‚å®ƒèƒ½ä¿è¯å¯¹è±¡åœ¨åˆ›å»ºå®Œæˆåï¼Œå…¶æ‰€æœ‰å¿…è¦çš„ä¾èµ–éƒ½å·²å‡†å¤‡å°±ç»ªã€‚

2.  **å±æ€§æ³¨å…¥ (Property Injection)**
    *   é€šè¿‡å…¬å…±å±æ€§ä¼ å…¥ä¾èµ–ã€‚
    *   é€‚ç”¨äºå¯é€‰çš„ä¾èµ–ã€‚

3.  **æ–¹æ³•æ³¨å…¥ (Method Injection)**
    *   ä¾èµ–åªåœ¨æŸä¸ªç‰¹å®šæ–¹æ³•ä¸­è¢«éœ€è¦æ—¶ï¼Œé€šè¿‡è¯¥æ–¹æ³•çš„å‚æ•°ä¼ å…¥ã€‚





## thiså…³é”®å­—

```c#
class MyClass
{
    public int a { get; set; }

    public MyClass(int a)   //è¿™ä¸ªå°±æ˜¯æ„é€ å‡½æ•°
    {
        this.a = a;
    }
}
```

**å·¦è¾¹çš„ `this.a`** æ˜¯å¯¹è±¡çš„å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰ï¼›

**å³è¾¹çš„ `a`** æ˜¯æ„é€ å‡½æ•°ä¼ è¿›æ¥çš„å‚æ•°ï¼›

æŠŠå‚æ•° `a` çš„å€¼ **èµ‹å€¼** ç»™å±æ€§ `a`ã€‚

è¿™æ ·å°±å¯ä»¥åŒºåˆ†ä¸¤ä¸ª`this`äº†



## å¼‚å¸¸å¤„ç†

**æ ¸å¿ƒä½œç”¨**ï¼šæ•è·å’Œå¤„ç†ç¨‹åºè¿è¡Œæ—¶å‘ç”Ÿçš„é”™è¯¯ï¼ˆå¼‚å¸¸ï¼‰ï¼Œé˜²æ­¢ç¨‹åºå´©æºƒï¼Œä¿è¯ä»£ç å¥å£®æ€§ã€‚

### 1 åŸºæœ¬ç»“æ„

```csharp
try
{
    // 1. å°è¯•æ‰§è¡Œ: å¯èƒ½ä¼šå‡ºé”™çš„ä»£ç 
    // ä¾‹å¦‚ï¼šint result = 10 / 0; 
}
catch (ExceptionType ex) // 2. æ•è·: å¦‚æœtryä¸­å‘ç”Ÿç‰¹å®šç±»å‹çš„é”™è¯¯
{
    // 3. å¤„ç†: åœ¨è¿™é‡Œå¤„ç†é”™è¯¯ï¼Œä¾‹å¦‚è®°å½•æ—¥å¿—
    Console.WriteLine("æ•è·åˆ°é”™è¯¯: " + ex.Message);
}
finally
{
    // 4. æœ€ç»ˆæ‰§è¡Œ: æ— è®ºæ˜¯å¦å‡ºé”™ï¼Œæ€»ä¼šæ‰§è¡Œï¼ˆç”¨äºèµ„æºæ¸…ç†ï¼‰
    Console.WriteLine("æ¸…ç†å·¥ä½œå®Œæˆã€‚");
}
```

### 2 å…³é”®ç»„ä»¶

*   **`try`**: åŒ…è£¹å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç ã€‚
*   **`catch (ExceptionType ex)`**: å¦‚æœ `try` å—ä¸­å‘ç”Ÿ *æŒ‡å®šç±»å‹* çš„å¼‚å¸¸ï¼Œåˆ™æ‰§è¡Œæ­¤å—ã€‚`ex` å¯¹è±¡åŒ…å«é”™è¯¯è¯¦æƒ…ã€‚
*   **`finally`**: æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œè¿™é‡Œçš„ä»£ç  **æ€»æ˜¯** ä¼šè¢«æ‰§è¡Œã€‚ä¸»è¦ç”¨äºé‡Šæ”¾èµ„æºï¼ˆå¦‚å…³é—­æ–‡ä»¶ã€æ•°æ®åº“è¿æ¥ï¼‰ã€‚

### 3 æ ¸å¿ƒè§„åˆ™ä¸æœ€ä½³å®è·µ

1. **æ•è·é¡ºåºï¼šä»å…·ä½“åˆ°é€šç”¨**
   `catch (FileNotFoundException)` è¿™ç§å…·ä½“çš„å¼‚å¸¸ï¼Œå¿…é¡»æ”¾åœ¨ `catch (Exception)` è¿™ç§é€šç”¨çš„å¼‚å¸¸å‰é¢ã€‚

   ```csharp
   try { /* ... */ }
   catch (ArgumentNullException ex) { /* å¤„ç†ç©ºå‚æ•° */ } // æœ€å…·ä½“
   catch (Exception ex) { /* å¤„ç†å…¶ä»–æ‰€æœ‰é”™è¯¯ */ }      // æœ€é€šç”¨
   ```

2. **ä¸è¦â€œåå™¬â€å¼‚å¸¸**
   ç©ºçš„ `catch {}` ä¼šéšè—é—®é¢˜ï¼Œæ˜¯å±é™©çš„åæ¨¡å¼ã€‚è‡³å°‘è¦è®°å½•æ—¥å¿—ã€‚

3. **æ­£ç¡®åœ°é‡æ–°æŠ›å‡ºå¼‚å¸¸ï¼šä½¿ç”¨ `throw;`**
   åœ¨ `catch` å—ä¸­è‹¥è¦å°†å¼‚å¸¸å‘ä¸Šä¼ é€’ï¼Œè¯·ä½¿ç”¨ `throw;` è€Œä¸æ˜¯ `throw ex;`ï¼Œä»¥ä¿ç•™åŸå§‹çš„é”™è¯¯å †æ ˆä¿¡æ¯ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚

   ```csharp
   catch (Exception ex)
   {
       Log(ex); // è®°å½•æ—¥å¿—
       throw;   // æ­£ç¡®æ–¹å¼ï¼šä¿ç•™åŸå§‹å †æ ˆä¿¡æ¯
   }
   ```

4. **ä¼˜å…ˆä½¿ç”¨ `using` è¯­å¥è¿›è¡Œèµ„æºç®¡ç†**
   å¯¹äºå®ç°äº† `IDisposable` çš„å¯¹è±¡ï¼ˆå¦‚æ–‡ä»¶æµã€æ•°æ®åº“è¿æ¥ï¼‰ï¼Œ`using` æ˜¯ `try-finally` çš„æœ€ä½³æ›¿ä»£ï¼Œèƒ½è‡ªåŠ¨ã€å®‰å…¨åœ°é‡Šæ”¾èµ„æºã€‚

   ```csharp
   // è‡ªåŠ¨è°ƒç”¨ myConnection.Dispose()ï¼Œå³ä½¿å‘ç”Ÿå¼‚å¸¸
   using (var myConnection = new SqlConnection(connectionString))
   {
       myConnection.Open();
       // ...
   }
   ```

5. **é¿å…ç”¨å¼‚å¸¸æ§åˆ¶ç¨‹åºæµç¨‹**
   å¼‚å¸¸å¤„ç†æœ‰æ€§èƒ½å¼€é”€ã€‚å¯¹äºå¯é¢„è§çš„é€»è¾‘åˆ¤æ–­ï¼Œåº”ä½¿ç”¨ `if-else` æˆ– `int.TryParse()` ç­‰æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¾èµ– `try-catch`ã€‚

   ```csharp
   // æ¨è
   if (int.TryParse(text, out int number)) { /* ... */ }
   
   // ä¸æ¨è
   // try { int number = int.Parse(text); } catch { /* ... */ }
   ```

| å¼‚å¸¸ç±»                            | æè¿°                                           |
| :-------------------------------- | :--------------------------------------------- |
| System.IO.IOException             | å¤„ç† I/O é”™è¯¯ã€‚                                |
| System.IndexOutOfRangeException   | å¤„ç†å½“æ–¹æ³•æŒ‡å‘è¶…å‡ºèŒƒå›´çš„æ•°ç»„ç´¢å¼•æ—¶ç”Ÿæˆçš„é”™è¯¯ã€‚ |
| System.ArrayTypeMismatchException | å¤„ç†å½“æ•°ç»„ç±»å‹ä¸åŒ¹é…æ—¶ç”Ÿæˆçš„é”™è¯¯ã€‚             |
| System.NullReferenceException     | å¤„ç†å½“ä¾ä»ä¸€ä¸ªç©ºå¯¹è±¡æ—¶ç”Ÿæˆçš„é”™è¯¯ã€‚             |
| System.DivideByZeroException      | å¤„ç†å½“é™¤ä»¥é›¶æ—¶ç”Ÿæˆçš„é”™è¯¯ã€‚                     |
| System.InvalidCastException       | å¤„ç†åœ¨ç±»å‹è½¬æ¢æœŸé—´ç”Ÿæˆçš„é”™è¯¯ã€‚                 |
| System.OutOfMemoryException       | å¤„ç†ç©ºé—²å†…å­˜ä¸è¶³ç”Ÿæˆçš„é”™è¯¯ã€‚                   |
| System.StackOverflowException     | å¤„ç†æ ˆæº¢å‡ºç”Ÿæˆçš„é”™è¯¯ã€‚                         |



## å§”æ‰˜

è¿™ä¸ªå§”æ‰˜å…¶å®å°±æ˜¯ç±»ä¼¼å‡½æ•°æŒ‡é’ˆï¼Œä¸è¿‡æ›´åŠ å®‰å…¨å¯é ã€‚æˆ‘ä»¬ç”¨å§”æ‰˜æ¥æŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿å¾ˆå¤šä¸ºäº†å‡å°‘éº»çƒ¦ï¼Œå¾®è½¯ä¸ºæˆ‘ä»¬çœå»äº†å®šä¹‰å§”æ‰˜çš„è¿™ä¸€æ­¥éª¤ã€‚

æ­£å¸¸çš„å‡½æ•°å®šä¹‰å§”æ‰˜ï¼Œæˆ‘ä»¬åªæ˜¯æ ¹æ®ä»–çš„è¿”å›å€¼ç±»å‹å’Œå‚æ•°ä¸ªæ•°æ¥è¿›è¡ŒåŒºåˆ«ã€‚æœ‰äº†æ³›å‹åï¼Œæˆ‘ä»¬åªæ ¹æ®å‚æ•°çš„ä¸ªæ•°è¿›è¡ŒåŒºåˆ«ã€‚

### 1 å§”æ‰˜çš„ç±»åˆ«

äºæ˜¯æœ‰äº†ä»¥ä¸‹å‡ ç±»å§”æ‰˜ï¼š

#### 1.1 Action

**Actionï¼š**ä»£è¡¨ä¸è¿”å›å€¼çš„æ–¹æ³•ã€‚å¯ä»¥æ¥å—æœ€å¤š 16 ä¸ªå‚æ•°ã€‚

```c#
Action<string> printMessage = Console.WriteLine;
printMessage("Hello");
```

#### 1.2 Func

**Func**ï¼šä»£è¡¨æœ‰è¿”å›å€¼çš„æ–¹æ³•ã€‚æœ€å¤šæ¥å— 16 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥å‚æ•°ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯è¿”å›å€¼ç±»å‹ã€‚

```c#
Func<int, int, int> add = (x, y) => x + y;
Console.WriteLine(add(3, 4));  // è¾“å‡º 7
```

#### 1.3 Predicate

**Predicate**ï¼šä»£è¡¨è¿”å› bool å€¼çš„æ–¹æ³•ï¼Œé€šå¸¸ç”¨äºæ¡ä»¶åˆ¤æ–­ã€‚

```c#
Predicate<int> isEven = x => x % 2 == 0;
Console.WriteLine(isEven(4));  // è¾“å‡º True
```

------

### 2 æ³¨æ„äº‹é¡¹

**ç±»å‹å®‰å…¨ï¼š**å§”æ‰˜æ˜¯ç±»å‹å®‰å…¨çš„ï¼Œè¿™æ„å‘³ç€åªæœ‰ç­¾ååŒ¹é…çš„æ–¹æ³•æ‰èƒ½èµ‹å€¼ç»™å§”æ‰˜ã€‚

åŒ¿åæ–¹æ³•å’Œ lambda è¡¨è¾¾å¼ï¼šä½ å¯ä»¥ä½¿ç”¨åŒ¿åæ–¹æ³•æˆ– lambda è¡¨è¾¾å¼æ¥åˆ›å»ºå§”æ‰˜å®ä¾‹ï¼Œç®€åŒ–ä»£ç ã€‚

```c#
Func<int, int, int> add = (x, y) => x + y;
Console.WriteLine(add(5, 3));  // è¾“å‡º 8
```

å¼‚æ­¥è°ƒç”¨ï¼šå¯ä»¥å°†å§”æ‰˜ä¸ BeginInvoke å’Œ EndInvoke æ–¹æ³•ä¸€èµ·ä½¿ç”¨ï¼Œè¿›è¡Œå¼‚æ­¥è°ƒç”¨ã€‚

å§”æ‰˜æ˜¯ C# ä¸­ä¸€ä¸ªéå¸¸å¼ºå¤§å’Œçµæ´»çš„ç‰¹æ€§ï¼Œå¯ä»¥å¸®åŠ©å®ç°äº‹ä»¶é©±åŠ¨çš„ç¼–ç¨‹ã€å›è°ƒæœºåˆ¶å’Œå‡½æ•°å¼ç¼–ç¨‹é£æ ¼ã€‚å®ƒä¸ä»…æä¾›äº†ä»£ç é‡ç”¨çš„èƒ½åŠ›ï¼Œè¿˜æé«˜äº†ç¨‹åºçš„æ¨¡å—åŒ–ç¨‹åº¦ã€‚ç†è§£å’ŒæŒæ¡å§”æ‰˜çš„ä½¿ç”¨å¯¹äº C# ç¼–ç¨‹æ˜¯éå¸¸é‡è¦çš„ã€‚

å…·ä½“è®²è§£ï¼š

ä»¥ä¸‹ä¾‹å­çš„å§”æ‰˜å¯è¢«ç”¨äºå¼•ç”¨ä»»ä½•ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå•ä¸€çš„ *string* å‚æ•°çš„æ–¹æ³•ï¼Œå¹¶è¿”å›ä¸€ä¸ª *int* ç±»å‹å˜é‡ã€‚

```c#
public delegate int MyDelegate (string s);
```

ä¸€æ—¦å£°æ˜äº†å§”æ‰˜ç±»å‹ï¼Œå§”æ‰˜å¯¹è±¡å¿…é¡»ä½¿ç”¨ **new** å…³é”®å­—æ¥åˆ›å»ºï¼Œä¸”ä¸ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•æœ‰å…³ã€‚å½“åˆ›å»ºå§”æ‰˜æ—¶ï¼Œä¼ é€’åˆ° **new** è¯­å¥çš„å‚æ•°å°±åƒæ–¹æ³•è°ƒç”¨ä¸€æ ·ä¹¦å†™ï¼Œä½†æ˜¯ä¸å¸¦æœ‰å‚æ•°ã€‚ä¾‹å¦‚ï¼š

```c#
public delegate void printString(string s);
...
printString ps1 = new printString(WriteToScreen);
printString ps2 = new printString(WriteToFile);
```

ç¤ºä¾‹å¦‚ä¸‹ï¼š

```c#
using System;

delegate int NumberChanger(int n);
namespace DelegateAppl
{
   class TestDelegate
   {
      static int num = 10;
      public static int AddNum(int p)
      {
         num += p;
         return num;
      }

      public static int MultNum(int q)
      {
         num *= q;
         return num;
      }
      public static int getNum()
      {
         return num;
      }

      static void Main(string[] args)
      {
         // åˆ›å»ºå§”æ‰˜å®ä¾‹
         NumberChanger nc1 = new NumberChanger(AddNum);
         NumberChanger nc2 = new NumberChanger(MultNum);
         // ä½¿ç”¨å§”æ‰˜å¯¹è±¡è°ƒç”¨æ–¹æ³•
         nc1(25);
         Console.WriteLine("Value of Num: {0}", getNum());
         nc2(5);
         Console.WriteLine("Value of Num: {0}", getNum());
         Console.ReadKey();
      }
   }
}
```

è¾“å‡ºï¼š

```
Value of Num: 35
Value of Num: 175
```

### 3 å§”æ‰˜çš„å¤šæ’­

å§”æ‰˜å¯¹è±¡å¯ä½¿ç”¨ **+** è¿ç®—ç¬¦è¿›è¡Œåˆå¹¶ã€‚

ä¸€ä¸ªåˆå¹¶å§”æ‰˜è°ƒç”¨å®ƒæ‰€åˆå¹¶çš„ä¸¤ä¸ªå§”æ‰˜ï¼Œåªæœ‰ç›¸åŒç±»å‹çš„å§”æ‰˜å¯è¢«åˆå¹¶ã€‚

ä½¿ç”¨å§”æ‰˜çš„è¿™ä¸ªæœ‰ç”¨çš„ç‰¹ç‚¹ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªå§”æ‰˜è¢«è°ƒç”¨æ—¶è¦è°ƒç”¨çš„æ–¹æ³•çš„è°ƒç”¨åˆ—è¡¨ï¼Œè¿™è¢«ç§°ä¸ºå§”æ‰˜çš„ **å¤šæ’­ï¼ˆmulticastingï¼‰**ï¼Œä¹Ÿå«ç»„æ’­ã€‚

ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†å§”æ‰˜çš„å¤šæ’­ï¼š

```c#
using System;

delegate int NumberChanger(int n);
namespace DelegateAppl
{
   class TestDelegate
   {
      static int num = 10;
      public static int AddNum(int p)
      {
         num += p;
         return num;
      }

      public static int MultNum(int q)
      {
         num *= q;
         return num;
      }
      public static int getNum()
      {
         return num;
      }

      static void Main(string[] args)
      {
         // åˆ›å»ºå§”æ‰˜å®ä¾‹
         NumberChanger nc;
         NumberChanger nc1 = new NumberChanger(AddNum);
         NumberChanger nc2 = new NumberChanger(MultNum);
         nc = nc1;
         nc += nc2;
         // è°ƒç”¨å¤šæ’­
         nc(5);
         Console.WriteLine("Value of Num: {0}", getNum());
         Console.ReadKey();
      }
   }
}
```

è¾“å‡ºï¼š

```c
Value of Num: 75
```



## æ³›å‹

**æ³›å‹ï¼ˆGenericï¼‰** å…è®¸æ‚¨å»¶è¿Ÿç¼–å†™ç±»æˆ–æ–¹æ³•ä¸­çš„ç¼–ç¨‹å…ƒç´ çš„æ•°æ®ç±»å‹çš„è§„èŒƒï¼Œç›´åˆ°å®é™…åœ¨ç¨‹åºä¸­ä½¿ç”¨å®ƒçš„æ—¶å€™ã€‚æ¢å¥è¯è¯´ï¼Œæ³›å‹å…è®¸æ‚¨ç¼–å†™ä¸€ä¸ªå¯ä»¥ä¸ä»»ä½•æ•°æ®ç±»å‹ä¸€èµ·å·¥ä½œçš„ç±»æˆ–æ–¹æ³•ã€‚

æ‚¨å¯ä»¥é€šè¿‡æ•°æ®ç±»å‹çš„æ›¿ä»£å‚æ•°ç¼–å†™ç±»æˆ–æ–¹æ³•çš„è§„èŒƒã€‚å½“ç¼–è¯‘å™¨é‡åˆ°ç±»çš„æ„é€ å‡½æ•°æˆ–æ–¹æ³•çš„å‡½æ•°è°ƒç”¨æ—¶ï¼Œå®ƒä¼šç”Ÿæˆä»£ç æ¥å¤„ç†æŒ‡å®šçš„æ•°æ®ç±»å‹ã€‚ä¸‹é¢è¿™ä¸ªç®€å•çš„å®ä¾‹å°†æœ‰åŠ©äºæ‚¨ç†è§£è¿™ä¸ªæ¦‚å¿µï¼š

```c#
using System;
using System.Collections.Generic;

namespace GenericApplication
{
    public class MyGenericArray<T>
    {
        private T[] array;
        public MyGenericArray(int size)
        {
            array = new T[size + 1];
        }
        public T getItem(int index)
        {
            return array[index];
        }
        public void setItem(int index, T value)
        {
            array[index] = value;
        }
    }
           
    class Tester
    {
        static void Main(string[] args)
        {
            // å£°æ˜ä¸€ä¸ªæ•´å‹æ•°ç»„
            MyGenericArray<int> intArray = new MyGenericArray<int>(5);
            // è®¾ç½®å€¼
            for (int c = 0; c < 5; c++)
            {
                intArray.setItem(c, c*5);
            }
            // è·å–å€¼
            for (int c = 0; c < 5; c++)
            {
                Console.Write(intArray.getItem(c) + " ");
            }
            Console.WriteLine();
            // å£°æ˜ä¸€ä¸ªå­—ç¬¦æ•°ç»„
            MyGenericArray<char> charArray = new MyGenericArray<char>(5);
            // è®¾ç½®å€¼
            for (int c = 0; c < 5; c++)
            {
                charArray.setItem(c, (char)(c+97));
            }
            // è·å–å€¼
            for (int c = 0; c < 5; c++)
            {
                Console.Write(charArray.getItem(c) + " ");
            }
            Console.WriteLine();
            Console.ReadKey();
        }
    }
}
```

### 1 æ³›å‹çš„ç‰¹æ€§

ä½¿ç”¨æ³›å‹æ˜¯ä¸€ç§å¢å¼ºç¨‹åºåŠŸèƒ½çš„æŠ€æœ¯ï¼Œå…·ä½“è¡¨ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

- å®ƒæœ‰åŠ©äºæ‚¨æœ€å¤§é™åº¦åœ°é‡ç”¨ä»£ç ã€ä¿æŠ¤ç±»å‹çš„å®‰å…¨ä»¥åŠæé«˜æ€§èƒ½ã€‚
- æ‚¨å¯ä»¥åˆ›å»ºæ³›å‹é›†åˆç±»ã€‚.NET æ¡†æ¶ç±»åº“åœ¨ *System.Collections.Generic* å‘½åç©ºé—´ä¸­åŒ…å«äº†ä¸€äº›æ–°çš„æ³›å‹é›†åˆç±»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨è¿™äº›æ³›å‹é›†åˆç±»æ¥æ›¿ä»£ *System.Collections* ä¸­çš„é›†åˆç±»ã€‚
- æ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„æ³›å‹æ¥å£ã€æ³›å‹ç±»ã€æ³›å‹æ–¹æ³•ã€æ³›å‹äº‹ä»¶å’Œæ³›å‹å§”æ‰˜ã€‚
- æ‚¨å¯ä»¥å¯¹æ³›å‹ç±»è¿›è¡Œçº¦æŸä»¥è®¿é—®ç‰¹å®šæ•°æ®ç±»å‹çš„æ–¹æ³•ã€‚
- å…³äºæ³›å‹æ•°æ®ç±»å‹ä¸­ä½¿ç”¨çš„ç±»å‹çš„ä¿¡æ¯å¯åœ¨è¿è¡Œæ—¶é€šè¿‡ä½¿ç”¨åå°„è·å–ã€‚

### 2 æ³›å‹æ–¹æ³•

åœ¨ä¸Šé¢çš„å®ä¾‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»ä½¿ç”¨äº†æ³›å‹ç±»ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»å‹å‚æ•°å£°æ˜æ³›å‹æ–¹æ³•ã€‚ä¸‹é¢çš„ç¨‹åºè¯´æ˜äº†è¿™ä¸ªæ¦‚å¿µï¼š

```c#
using System;
using System.Collections.Generic;

namespace GenericMethodAppl
{
    class Program
    {
        static void Swap<T>(ref T lhs, ref T rhs)   //refæ„æ€å’ŒæŒ‡é’ˆå·®ä¸å¤šï¼Œå¯ä»¥ä¿®æ”¹å‚æ•°
        {
            T temp;
            temp = lhs;
            lhs = rhs;
            rhs = temp;
        }
        static void Main(string[] args)
        {
            int a, b;
            char c, d;
            a = 10;
            b = 20;
            c = 'I';
            d = 'V';

            // åœ¨äº¤æ¢ä¹‹å‰æ˜¾ç¤ºå€¼
            Console.WriteLine("Int values before calling swap:");
            Console.WriteLine("a = {0}, b = {1}", a, b);
            Console.WriteLine("Char values before calling swap:");
            Console.WriteLine("c = {0}, d = {1}", c, d);

            // è°ƒç”¨ swap
            Swap<int>(ref a, ref b);
            Swap<char>(ref c, ref d);

            // åœ¨äº¤æ¢ä¹‹åæ˜¾ç¤ºå€¼
            Console.WriteLine("Int values after calling swap:");
            Console.WriteLine("a = {0}, b = {1}", a, b);
            Console.WriteLine("Char values after calling swap:");
            Console.WriteLine("c = {0}, d = {1}", c, d);
            Console.ReadKey();
        }
    }
}
```

### 3 æ³›å‹å§”æ‰˜

æ‚¨å¯ä»¥é€šè¿‡ç±»å‹å‚æ•°å®šä¹‰æ³›å‹å§”æ‰˜ã€‚ä¾‹å¦‚ï¼š

```
delegate T NumberChanger<T>(T n);
```

ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å§”æ‰˜çš„ä½¿ç”¨ï¼š

```c#
using System;
using System.Collections.Generic;

delegate T NumberChanger<T>(T n);   //ä¼ å…¥æ˜¯Tç±»å‹ï¼Œè¿”å›ä¹Ÿæ˜¯Tç±»å‹
namespace GenericDelegateAppl
{
    class TestDelegate
    {
        static int num = 10;
        public static int AddNum(int p)
        {
            num += p;
            return num;
        }

        public static int MultNum(int q)
        {
            num *= q;
            return num;
        }
        public static int getNum()
        {
            return num;
        }

        static void Main(string[] args)
        {
            // åˆ›å»ºå§”æ‰˜å®ä¾‹
            NumberChanger<int> nc1 = new NumberChanger<int>(AddNum);
            NumberChanger<int> nc2 = new NumberChanger<int>(MultNum);
            // ä½¿ç”¨å§”æ‰˜å¯¹è±¡è°ƒç”¨æ–¹æ³•
            nc1(25);
            Console.WriteLine("Value of Num: {0}", getNum());
            nc2(5);
            Console.WriteLine("Value of Num: {0}", getNum());
            Console.ReadKey();
        }
    }
}
```





## ç®€å•LINQ

è¿™æ˜¯c#çš„ä¸€ä¸ªç‰¹æ€§

```c#
public class Student
{
    public int Id { get; set; }
    public string Name { get; set; }
    public int Age { get; set; }
    public string Major { get; set; }
}
```

ç›¸å½“äºåˆ¶ä½œäº†ä¸€å¼ è¡¨æ ¼ï¼Œè¿™é‡ŒSQLè¯­æ³•æ˜¯å¾ˆå¥½ç”¨çš„

```c#
var studentsAge20Method = students.Where(s => s.Age == 20);//å°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°
//så°±æ˜¯ä¸€ä¸ªå‡½æ•°å‚æ•°ï¼Œè¿™ä¸ªè¿”å›çš„æ˜¯age==20ï¼ŒT or Fï¼Œç›¸å½“äºæŠŠageä¸º20çš„å­¦ç”Ÿç­›é€‰å‡ºæ¥

Console.WriteLine("\nå¹´é¾„ä¸º 20 çš„å­¦ç”Ÿ (æ–¹æ³•è¯­æ³•):");
foreach (var student in studentsAge20Method)
{
	Console.WriteLine($"ID: {student.Id}, å§“å:{student.Name}, å¹´é¾„: {student.Age}");
}
```

```c#
var studentNamesAndMajorsMethod = students.Select(s => new{ s.Name, s.Major });
//ç›¸å½“äºç­›é€‰å‡ºnameå’Œmajor
Console.WriteLine("\nå­¦ç”Ÿå§“åå’Œä¸“ä¸š (æ–¹æ³•è¯­æ³•):");
foreach (var item in studentNamesAndMajorsMethod)
{
	Console.WriteLine($"å§“å: {item.Name}, ä¸“ä¸š:{item.Major}");
}
```

æ’åºï¼š

```c#
var studentsSortedByAgeMethod = students.OrderBy(s => s.Age);
Console.WriteLine("\næŒ‰å¹´é¾„å‡åºæ’åˆ—çš„å­¦ç”Ÿ (æ–¹æ³•è¯­æ³•):");
foreach (var student in studentsSortedByAgeMethod)
{
	Console.WriteLine($"å§“å: {student.Name}, å¹´é¾„: {student.Age}");
}
```

åˆ†ç»„ï¼š

```c#
var studentsGroupedByMajorMethod = students.GroupBy(s => s.Major);
Console.WriteLine("\næŒ‰ä¸“ä¸šåˆ†ç»„çš„å­¦ç”Ÿ (æ–¹æ³•è¯­æ³•): ");
foreach (var group in studentsGroupedByMajorMethod)
{
    Console.WriteLine($"ä¸“ä¸š: {group.Key}");
    foreach (var student in group)
	{
		Console.WriteLine($" å§“å: {student.Name}, å¹´é¾„: {student.Age}");
	}
}  //å…ˆéå†æ¯ä¸ªç»„ï¼Œå†éå†æ¯ä¸ªç»„çš„å­¦ç”Ÿ
```

èšåˆå‡½æ•°ï¼š

```c#
var averageAgeMethod = students.Select(s => s.Age).Average();  //è®¡ç®—å¹³å‡å¹´é¾„
```

è¿˜æœ‰Max/Minï¼ŒCountï¼ŒSum



## å¼‚æ­¥ç¼–ç¨‹

æœªå®Œå¾…ç»­â€¦â€¦
